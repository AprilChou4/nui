{"version":3,"sources":["demo-debug.js"],"names":["Nui","define","component","this","extend","options","text","animate","equal","color","_template","list","wrap","elem","_init","_exec","that","target","_getTarget","deftext","attr","trim","undefined","val","_create","opts","self","constructor","document","createElement","_setStyle","removeAttr","data","_tplData","style","position","display","width","outerWidth","overflow","cursor","_tpl2html","element","$","height","outerHeight","isText","is","left","_getSize","top","line-height","insertAfter","_events","className","__id","addClass","_createStyle","_createRules","head","appendChild","sheet","id","deleteRule","e","each","v","selector","rules","addRule","insertRule","pleft","_on","focus","stop","opacity","value","hide","show","_reset","_off","remove","unwrap","removeClass","arguments","length","util","statics","_maskzIndex","_zIndex","win","on","__instances","isCenter","setTimeout","resize","$fn","$ready","init","content","maxWidth","maxHeight","timer","edge","container","title","isMove","isMask","isInnerMove","isClickMask","isMoveMask","isHide","isFull","isTop","isTips","isFixed","scrollbar","align","bubble","enable","dir","iframe","cache","src","close","confirm","name","callback","cancel","under","button","onMove","onResize","onScroll","static","layout","mask","movemask","_container","_jquery","_containerDOM","get","tagName","_window","_isWindow","pos","css","_isFixed","bsie6","buttons","_createButton","isTitle","_getContent","z-index","_setTop","appendTo","_box","children","_head","_body","_main","_foot","_iframe","_iframeOnload","_bindMove","_bindTop","_button","_buttonEvent","_bindScroll","_show","_createIframe","jQuery","prop","setParam","Date","getTime","frameborder","scroll","load","_iframeDocument","contents","_resize","defaults","caches","btn","push","unshift","slice","hasClass","isCall","call","destroy","_setzIndex","x","y","_x","_y","ele","_moveMask","skin","pageX","pageY","stopPropagation","doc","offsetTop","scrollTop","offsetLeft","scrollLeft","_isTop","_setLower","unders","type","isArray","obj","k","_position","_v","_pos","right","bottom","test","Function","parseFloat","wWidth","wHeight","sleft","_setSize","edgeSize","ws","layer","find","_height","_showMask","__layermask__","_timer","onInit","noMask","exports","clearTimeout","_delete","onDestroy","alert","tips","isClose","loading","message","form","validatPlus","module","require","validator","valid","btns","i","main","submit","formLayer","elems","messages","setting","rule","eval","key","msg","messageFilter","errorClass","onkeyup","focusInvalid","focusCleanup","ignore","success","error","errorPlacement","closest","itemWrap","errorWrap","html","submitHandler","param","ajax","getData","serialize","serializeArray","join","onBeforeSubmit","url","dataType","res","xhr","onSuccess","onError","validate","imports","renders","lay","append","click"],"mappings":"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","file":"demo-min.js.map?v=913ab7b","sourcesContent":["/**\r\n * @author Aniu[2016-11-10 22:39]\r\n * @update Aniu[2016-11-10 22:39]\r\n * @version 1.0.1\r\n * @description 输入框占位符\r\n */\r\n\r\nNui.define('{cpns}/placeholder',['component'], function(component){\r\n    return this.extend(component, {\r\n        options:{\r\n            /**\r\n             * @func 输入框占位提示文本，若元素上含有placeholder属性将会覆盖该值\r\n             * @type <String>\r\n             */\r\n            text:'',\r\n            /**\r\n             * @func 是否启用动画显示展示\r\n             * @type <Boolean>\r\n             */\r\n            animate:false,\r\n            /**\r\n             * @func 输入框值是否可以和占位符相同\r\n             * @type <Boolean>\r\n             */\r\n            equal:false,\r\n            /**\r\n             * @func 占位符文本颜色\r\n             * @type <String>\r\n             */\r\n            color:'#ccc'\r\n        },\r\n        _template:{\r\n            list:'<%each style%><%$index%>:<%$value%>;<%/each%>',\r\n            wrap:'<strong class=\"<% className %>\" style=\"<%include \\'list\\'%>\" />',\r\n            elem:'<b style=\"<%include \\'list\\'%>\"><%text%></b>'\r\n        },\r\n        _init:function(){\r\n            this._exec();\r\n        },\r\n        _exec:function(){\r\n            var that = this, target = that._getTarget();\r\n            if(target){\r\n                var text = that.deftext = target.attr('placeholder');\r\n                if(!that.deftext && that.options.text){\r\n                    target.attr('placeholder', text = that.options.text)\r\n                }\r\n                that.text = Nui.trim(text);\r\n                if(that.val === undefined){\r\n                    that.val = Nui.trim(target.val());\r\n                }\r\n                if(that.text){\r\n                    that._create()\r\n                }\r\n            }\r\n        },\r\n        _create:function(){\r\n            var that = this, opts = that.options, self = that.constructor;\r\n            if(opts.animate || (!opts.animate && !('placeholder' in document.createElement('input')))){\r\n                if(opts.animate){\r\n                    that.target.removeAttr('placeholder')\r\n                }\r\n                var data = that._tplData();\r\n                data.style = {\r\n                    'position':'relative',\r\n                    'display':'inline-block',\r\n                    'width':that.target.outerWidth()+'px',\r\n                    'overflow':'hidden',\r\n                    'cursor':'text'\r\n                }\r\n                that.target.wrap(that._tpl2html('wrap', data))\r\n                that.element = $(that._tpl2html('elem', {\r\n                        text:that.text,\r\n                        style:(function(){\r\n                            var height = that.target.outerHeight();\r\n                            var isText = that.target.is('textarea');\r\n                            return ({\r\n                                'display':Nui.trim(that.target.val()) ? 'none' : 'inline',\r\n                                'position':'absolute',\r\n                                'left':self._getSize(that.target, 'l', 'padding')+self._getSize(that.target, 'l')+'px',\r\n                                'top':self._getSize(that.target, 't', 'padding')+self._getSize(that.target, 't')+'px',\r\n                                'height':isText ? 'auto' : height+'px',\r\n                                'line-height':isText ? 'normal' : height+'px',\r\n                                'color':opts.color\r\n                            })\r\n                        })()\r\n                    })).insertAfter(that.target)\r\n\r\n                that._events()\r\n            }\r\n            else{\r\n                that._setStyle()\r\n            }\r\n        },\r\n        _setStyle:function(){\r\n            var that = this, opts = that.options;\r\n            that.className = '_placeholder-'+that.__id;\r\n            that.target.addClass(that.className);\r\n            if(!that.constructor.style){\r\n                that._createStyle()\r\n            }\r\n            that._createRules()\r\n        },\r\n        _createStyle:function(){\r\n            var that = this;\r\n            var style = document.createElement('style');\r\n            document.head.appendChild(style);\r\n            that.constructor.style = style.sheet\r\n        },\r\n        _createRules:function(){\r\n            var that = this;\r\n            var sheet = that.constructor.style;\r\n            var id = that.__id;\r\n            try{\r\n                sheet.deleteRule(id)\r\n            }\r\n            catch(e){}\r\n            Nui.each(['::-webkit-input-placeholder', ':-ms-input-placeholder', '::-moz-placeholder'], function(v){\r\n                var selector = '.'+that.className+v;\r\n                var rules = 'opacity:1; color:'+(that.options.color||'');\r\n                try{\r\n                    if('addRule' in sheet){\r\n                        sheet.addRule(selector, rules, id)\r\n                    }\r\n                    else if('insertRule' in sheet){\r\n                        sheet.insertRule(selector + '{' + rules + '}', id)\r\n                    }\r\n                }\r\n                catch(e){}\r\n            })\r\n        },\r\n        _events:function(){\r\n            var that = this, opts = that.options, self = that.constructor;\r\n            var pleft = self._getSize(that.target, 'l', 'padding') + self._getSize(that.target, 'l');\r\n            that._on('click', that.element, function(){\r\n                that.target.focus()\r\n            })\r\n\r\n            that._on('focus', that.target, function(){\r\n                opts.animate && that.element.stop(true, false).animate({left:pleft+10, opacity:'0.5'});\r\n            })\r\n\r\n            that._on('blur change', that.target, function(e, elem){\r\n                that.value();\r\n            })\r\n\r\n            that._on('keyup keydown', that.target, function(e, elem){\r\n                Nui.trim(elem.val()) ? that.element.hide() : that.element.show()\r\n            })\r\n        },\r\n        _reset:function(){\r\n            var that = this;\r\n            that._off();\r\n            if(that.element){\r\n                that.element.remove();\r\n                that.target.unwrap();\r\n            }\r\n            that.target.val(that.val).removeClass(that.className);\r\n            if(that.deftext){\r\n                that.target.attr('placeholder', that.deftext)\r\n            }\r\n            else{\r\n                that.target.removeAttr('placeholder')\r\n            }\r\n        },\r\n        value:function(val){\r\n            var self = this.constructor, target = this.target;\r\n            var pleft = self._getSize(target, 'l', 'padding') + self._getSize(target, 'l');\r\n            var v = Nui.trim(!arguments.length ? target.val() : target.val(val).val());\r\n            if((!this.options.equal && v === this.text) || !v){\r\n                target.val('');\r\n                this.element && this.element.show();\r\n                if(this.options.animate){\r\n                    this.element.stop(true, false).animate({left:pleft, opacity:'1'})\r\n                }\r\n            }\r\n            else if(this.element){\r\n                this.element.hide()\r\n            }\r\n        }\r\n    })\r\n})\r\n\n\n/**\r\n * @author Aniu[2016-11-10 22:39]\r\n * @update Aniu[2016-11-10 22:39]\r\n * @version 1.0.1\r\n * @description layer弹出层\r\n */\r\n\r\nNui.define('src/components/layer/layer',['component', 'util'], function(component, util){\r\n    var module = this;\r\n\r\n    var statics = {\r\n        _maskzIndex:10000,\r\n        _zIndex:10000,\r\n        _init:function(){\r\n            var self = this;\r\n            Nui.win.on('resize', function(){\r\n                Nui.each(self.__instances, function(val){\r\n                    var opts = val.options;\r\n                    if(opts.position || opts.isCenter === true){\r\n                        setTimeout(function(){\r\n                            val.resize();\r\n                        })\r\n                    }\r\n                })\r\n            })\r\n        },\r\n        $fn:null,\r\n        $ready:null,\r\n        init:null\r\n    }\r\n\r\n    var options = {\r\n        //主体内容\r\n        content:'',\r\n        //高度\r\n        width:320,\r\n        //宽度\r\n        height:'auto',\r\n        //最大宽度\r\n        maxWidth:0,\r\n        //最大高度\r\n        maxHeight:0,\r\n        //定时器，N毫秒后自动关闭\r\n        timer:0,\r\n        //弹窗四周距离窗口边缘距离\r\n        edge:0,\r\n        //弹窗容器\r\n        container:'body',\r\n        //弹窗标题\r\n        title:'温馨提示',\r\n        //是否可以拖动\r\n        isMove:false,\r\n        //是否有遮罩\r\n        isMask:true,\r\n        //是否只能在窗口内拖动\r\n        isInnerMove:false,\r\n        //点击遮罩是否关闭弹窗\r\n        isClickMask:false,\r\n        //是否使用遮罩拖动\r\n        isMoveMask:false,\r\n        //是否能用hide方法关闭遮罩\r\n        isHide:true,\r\n        //弹窗是否浏览器改变大小时显示在窗口中央\r\n        isCenter:false,\r\n        //是否全屏显示\r\n        isFull:false,\r\n        //是否在点击弹窗时将其置顶\r\n        isTop:false,\r\n        //是否以提示框展示，没有标题，按钮\r\n        isTips:false,\r\n        //是否拖动滚动条固定位置\r\n        isFixed:true,\r\n        //当内容超过弹出层容器，是否显示滚动条\r\n        scrollbar:true,\r\n        //按钮对齐方式\r\n        align:'center',\r\n        //是否以气泡形式展示，弹出层边缘会多出箭头\r\n        bubble:{\r\n            enable:false,\r\n            dir:'top'\r\n        },\r\n        //弹出层内容展示iframe，不建议跨域使用\r\n        iframe:{\r\n            enable:false,\r\n            cache:false,\r\n            src:''\r\n        },\r\n        //关闭按钮\r\n        close:{\r\n            enable:true,\r\n            text:'×'\r\n        },\r\n        //确定按钮\r\n        confirm:{\r\n            enable:false,\r\n            name:'normal',\r\n            text:'确定',\r\n            callback:function(){\r\n                return true\r\n            }\r\n        },\r\n        //取消按钮\r\n        cancel:{\r\n            enable:true,\r\n            text:'取消'\r\n        },\r\n        /*弹出层定位 top/left/right/bottom\r\n        position:{\r\n            top:10,\r\n            left:10\r\n        }\r\n        */\r\n        position:null,\r\n        /*将弹出层置于遮罩层底部\r\n        under:[layer1, layer2]\r\n        */\r\n        under:null,\r\n        /*配置按钮，若id为confirm/cancel/close将会覆盖内置按钮参数\r\n        button:[{\r\n            id:'confirm',\r\n            text:'确定',\r\n            name:'normal',\r\n            callback:function(){\r\n\r\n            }\r\n        }]\r\n        */\r\n        button:null,\r\n        //onInit：弹出层显示时回调\r\n        //onDestroy：弹出层注销时回调\r\n        //当拖动弹出层移动后回调\r\n        onMove:null,\r\n        //窗口改变大小位置时回调\r\n        onResize:null,\r\n        //容器滚动时回调\r\n        onScroll:null\r\n    }\r\n\r\n    return this.extend(component, {\r\n        static:statics,\r\n        options:options,\r\n        _template:{\r\n            layout:\r\n                '<div class=\"<% className %>\" style=\"<% include \\'style\\' %>\">'+\r\n                    '<div class=\"layer-box\">'+\r\n                        '<%if close%>'+\r\n                            '<% var btn = close %>'+\r\n                            '<% include \"button\" %>'+\r\n                        '<%/if%>'+\r\n                        '<%if bubble%>'+\r\n                        '<span class=\"layer-bubble layer-bubble-<%bubble%>\"><b></b><i></i></span>'+\r\n                        '<%/if%>'+\r\n                        '<%if title%>'+\r\n                        '<div class=\"layer-head\">'+\r\n                            '<span class=\"layer-title\"><%title%></span>'+\r\n                        '</div>'+\r\n                        '<%/if%>'+\r\n                        '<div class=\"layer-body\">'+\r\n                            '<div class=\"layer-main\">'+\r\n                            '<%content%>'+\r\n                            '</div>'+\r\n                        '</div>'+\r\n                        '<%if button && button.length%>'+\r\n                        '<div class=\"layer-foot\" style=\"text-align:<%align%>\">'+\r\n                        '<%each button btn%>'+\r\n                            '<%include \"button\"%>'+\r\n                        '<%/each%>'+\r\n                        '</div>'+\r\n                        '<%/if%>'+\r\n                    '</div>'+\r\n                '</div>',\r\n            button:\r\n                '<button class=\"ui-button'+\r\n                    '<%if btn.name%>'+\r\n                    '<%each [].concat(btn.name) name%> ui-button-<%name%><%/each%>'+\r\n                    '<%/if%>'+\r\n                    ' layer-button-<%btn.id%>\"><%btn.text || \"按钮\"%></button>',\r\n            iframe:\r\n                '<iframe<%each attr%> <%$index%>=\"<%$value%>\"<%/each%>></iframe>',\r\n            mask:\r\n                '<div class=\"nui-layer-mask'+\r\n                    '<%if skin%> nui-layer-mask-<%skin%><%/if%>\" style=\"<%include \\'style\\'%>\">'+\r\n                    '<div class=\"layer-mask\"></div>'+\r\n                '</div>',\r\n            movemask:\r\n                '<div class=\"nui-layer-movemask'+\r\n                    '<%if skin%> nui-layer-movemask-<%skin%><%/if%>\" style=\"<%include \\'style\\'%>\">'+\r\n                '</div>',\r\n            style:\r\n                '<%each style%><%$index%>: <%$value%>; <%/each%>'\r\n        },\r\n        /*\r\n        top:弹窗距离窗口顶部距离\r\n        left:弹窗距离窗口左边距离\r\n        width:弹窗宽度\r\n        height:弹窗高度\r\n        */\r\n        data:{},\r\n        _init:function(){\r\n            this._zIndex = ++this.constructor._zIndex;\r\n            this._exec()\r\n        },\r\n        _exec:function(){\r\n            var that = this, opts = that.options, self = that.constructor;\r\n            that._container = self._jquery(opts.container);\r\n            if(that._container.length){\r\n                that._containerDOM = that._container.get(0);\r\n                if(that._containerDOM.tagName !== 'BODY'){\r\n                    that._window = that._container;\r\n                    that._isWindow = false;\r\n                    var pos = that._container.css('position');\r\n                    if(pos !== 'absolute' && pos !== 'relative'){\r\n                        that._container.css('position', 'relative')\r\n                    }\r\n                }\r\n                else{\r\n                    that._window = Nui.win;\r\n                    that._isWindow = true;\r\n                }\r\n                that._isFixed = opts.isFixed && !Nui.bsie6 && that._isWindow;\r\n                that._create();\r\n            }\r\n        },\r\n        _create:function(){\r\n            var that = this, opts = that.options;\r\n            var buttons = that._createButton(), isTitle = false;\r\n            if(opts.isTips !== true){\r\n                isTitle = typeof opts.title === 'string';\r\n            }\r\n            var data = that._tplData({\r\n                content:that._getContent(),\r\n                close:buttons.close,\r\n                button:buttons.button,\r\n                title:isTitle ? (opts.title||'温馨提示') : null,\r\n                bubble:opts.bubble.enable === true ? opts.bubble.dir : null,\r\n                align:opts.align || 'center',\r\n                style:{\r\n                    'z-index':that._zIndex,\r\n                    'position':'absolute',\r\n                    'display':'block'\r\n                }\r\n            });\r\n            if(that._isFixed){\r\n                data.style.position = 'fixed';\r\n            }\r\n            that._setTop();\r\n            that.element = $(that._tpl2html('layout', data)).appendTo(that._container);\r\n            that._box = that.element.children('.layer-box');\r\n\t\t\tthat._head = that._box.children('.layer-head');\r\n\t\t\tthat._body = that._box.children('.layer-body');\r\n\t\t\tthat._main = that._body.children('.layer-main');\r\n\t\t\tthat._foot = that._box.children('.layer-foot');\r\n            if(opts.isTips !== true){\r\n                if(opts.iframe.enable === true){\r\n                    that._iframe = that._main.children('iframe');\r\n                    that._iframeOnload()\r\n                }\r\n                if(opts.isMove === true && isTitle){\r\n                    that._bindMove();\r\n                }\r\n                if(opts.isTop === true){\r\n                    that._bindTop();\r\n                }\r\n            }\r\n            if(that._button.length){\r\n                that._buttonEvent();\r\n            }\r\n            if(opts.isFixed === true && !that._isFixed === true){\r\n                that._bindScroll()\r\n            }\r\n            that._show()\r\n        },\r\n        _getContent:function(){\r\n            var that = this, opts = that.options, content = '';\r\n            if(opts.isTips !== true && opts.iframe.enable === true){\r\n                content = that._createIframe();\r\n            }\r\n            else{\r\n                if(typeof opts.content === 'string'){\r\n                    content = opts.content\r\n                }\r\n                else if(opts.content instanceof jQuery){\r\n                    content = opts.content.prop('outerHTML')\r\n                }\r\n            }\r\n            return content\r\n        },\r\n        _createIframe:function(){\r\n            var that = this, opts = that.options, name = 'layer-iframe'+that.__id, src = opts.iframe.src;\r\n            if(options.iframe.cache === false){\r\n                src = util.setParam('_', new Date().getTime(), src)\r\n            }\r\n            return that._tpl2html('iframe', {\r\n                attr:{\r\n                    frameborder:'0',\r\n                    name:name,\r\n                    id:name,\r\n                    src:src,\r\n                    scroll:'hidden',\r\n                    style:'width:100%;'\r\n                }\r\n            })\r\n        },\r\n        _iframeOnload:function(){\r\n            var that = this;\r\n            that._iframe.load(function(){\r\n                that._iframeDocument = that._iframe.contents();\r\n                that._resize()\r\n            })\r\n        },\r\n        _createButton:function(){\r\n            var that = this, opts = that.options, defaults = {}, buttons = {}, caches = {};\r\n            that._button = [];\r\n            if(opts.isTips !== true){\r\n                Nui.each(['confirm', 'cancel'], function(id){\r\n                    var btn = opts[id];\r\n                    if(btn && btn.enable === true){\r\n                        defaults[id] = {\r\n                            id:id,\r\n                            name:btn.name,\r\n                            text:btn.text,\r\n                            callback:btn.callback\r\n                        }\r\n                    }\r\n                });\r\n                if(opts.button && opts.button.length){\r\n                    Nui.each(opts.button, function(val){\r\n                        var id = val.id;\r\n                        if(!caches[id]){\r\n                            caches[id] = true;\r\n                            if(defaults[id]){\r\n                                if(!val.text){\r\n                                    if(id === 'cancel'){\r\n                                        val.text = '取消'\r\n                                    }\r\n                                    else if(id === 'confirm'){\r\n                                        val.text = '确定'\r\n                                    }\r\n                                }\r\n                                delete defaults[id]\r\n                            }\r\n                            that._button[id === 'close' ? 'unshift' : 'push'](val)\r\n                        }\r\n                    })\r\n                }\r\n                Nui.each(defaults, function(val){\r\n                    that._button.push(val)\r\n                });\r\n            }\r\n            if(!caches.close && opts.close && opts.close.enable === true){\r\n                that._button.unshift({\r\n                    id:'close',\r\n                    name:opts.close.name,\r\n                    text:opts.close.text,\r\n                    callback:opts.close.callback\r\n                })\r\n            }\r\n            if(that._button[0] && that._button[0].id === 'close'){\r\n                buttons.close = that._button[0],\r\n                buttons.button = that._button.slice(1);\r\n            }\r\n            else{\r\n                buttons.button = that._button\r\n            }\r\n            return buttons\r\n        },\r\n        _buttonEvent:function(){\r\n            var that = this;\r\n            Nui.each(that._button, function(val){\r\n                that._on('click', that.element, '.layer-button-'+val.id, function(e, elem){\r\n                    if(!elem.hasClass('nui-button-disabled')){\r\n                        var id = val.id, callback = val.callback;\r\n                        var isCall = typeof callback === 'function' ? callback.call(that, that._main, that.__id, elem) : null;\r\n                        if((id === 'confirm' && isCall === true) || (id !== 'confirm' && isCall !== false)){\r\n                            that.destroy()\r\n                        }\r\n                    }\r\n                })\r\n            })\r\n        },\r\n        _bindTop:function(){\r\n            var that = this;\r\n            that._on('click', that.element, function(){\r\n                that._setzIndex();\r\n            });\r\n        },\r\n        _bindMove:function(){\r\n            var that = this, opts = that.options, element = that.element;\r\n            var self = that.constructor, elem = element, isMove = false, x, y, _x, _y;\r\n            that._on('mousedown', that._head, function(e, ele){\r\n                isMove = true;\r\n                that._setzIndex();\r\n                if(opts.isMoveMask === true){\r\n                    elem = that._moveMask = $(that._tpl2html('movemask', {\r\n                        skin:opts.skin,\r\n                        style:{\r\n                            'z-index':that._zIndex+1,\r\n                            'cursor':'move',\r\n                            'position':that._isFixed ? 'fixed' : 'absolute'\r\n                        }\r\n                    })).appendTo(that._container);\r\n                    elem.css({\r\n                        width:that.data.outerWidth - self._getSize(elem, 'lr', 'all'),\r\n                        height:that.data.outerHeight - self._getSize(elem, 'tb', 'all'),\r\n                        top:that.data.top,\r\n                        left:that.data.left\r\n                    });\r\n                }\r\n                ele.css('cursor','move');\r\n                x = e.pageX - that.data.left;\r\n                y = e.pageY - that.data.top;\r\n                e.stopPropagation();\r\n            });\r\n            that._on('mousemove', Nui.doc, function(e){\r\n                var width = that._container.outerWidth(), height = that._container.outerHeight();\r\n                if(isMove){\r\n                    _x = e.pageX - x;\r\n                    _y = e.pageY - y;\r\n                    _x < 0 && (_x = 0);\r\n                    _y < 0 && (_y = 0);\r\n                    if(opts.isInnerMove === true){\r\n                        _x + that.data.outerWidth > width && (_x = width - that.data.outerWidth);\r\n                        _y + that.data.outerHeight > height && (_y = height - that.data.outerHeight);\r\n                    }\r\n                    that.data.top = _y;\r\n                    that.data.left = _x;\r\n                    elem.css({top:_y, left:_x});\r\n                    return !isMove;\r\n                }\r\n            });\r\n            that._on('mouseup', Nui.doc, function(e){\r\n                if(isMove){\r\n                    isMove = false;\r\n                    that._head.css('cursor','default');\r\n                    if(opts.isMoveMask === true){\r\n                        element.css(that.data);\r\n                        that._moveMask.remove();\r\n                        that._moveMask = null;\r\n                    }\r\n                    if(typeof opts.onMove === 'function'){\r\n                        opts.onMove.call(that, that._main, that.__id)\r\n                    }\r\n                    that.data.offsetTop = that.data.top - that._window.scrollTop();\r\n                    that.data.offsetLeft = that.data.left - that._window.scrollLeft();\r\n                }\r\n            });\r\n        },\r\n        _bindScroll:function(){\r\n            var that = this, opts = that.options;\r\n            that._on('scroll', that._window, function(){\r\n                var top = that.data.offsetTop + that._window.scrollTop();\r\n                var left = that.data.offsetLeft + that._window.scrollLeft();\r\n                that.data.top = top;\r\n                that.data.left = left;\r\n                that.element.css(that.data);\r\n                if(typeof opts.onScroll === 'function'){\r\n                    opts.onScroll.call(that, that._main, that.__id)\r\n                }\r\n            })\r\n        },\r\n        //鼠标点击弹出层将弹出层层级设置最大\r\n        _setzIndex:function(){\r\n            var that = this, self = that.constructor;\r\n            if(that._isTop && that.element){\r\n                that._isTop = false;\r\n                that._zIndex = ++self._zIndex;\r\n                that.element.css('zIndex', that._zIndex);\r\n                that._setTop();\r\n            }\r\n        },\r\n        _setLower:function(destroy){\r\n            var that = this, self = that.constructor, opts = that.options, unders = [];\r\n            if(opts.under){\r\n                if(Nui.type(opts.under, 'Object')){\r\n                    unders.push(opts.under)\r\n                }\r\n                else if(Nui.isArray(opts.under)){\r\n                    unders = opts.under\r\n                }\r\n                if(unders.length){\r\n                    Nui.each(unders, function(obj, k){\r\n                        if(obj && obj.element){\r\n                            obj.element.css('z-index', destroy ? obj._zIndex : self._maskzIndex-1)\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        },\r\n        _setTop:function(){\r\n            var that = this, self = that.constructor;\r\n            Nui.each(self.__instances, function(val){\r\n                if(val && val !== that && val.options.isTop === true){\r\n                    val._isTop = true;\r\n                }\r\n            });\r\n        },\r\n        _position:function(){\r\n            var that = this, data = that.data, pos = that.options.position;\r\n            var _pos = {\r\n                top:pos.top,\r\n                left:pos.left,\r\n                right:pos.right,\r\n                bottom:pos.bottom\r\n            }, _v;\r\n\r\n            if(_pos.top !== undefined && _pos.bottom !== undefined){\r\n                delete _pos.bottom\r\n            }\r\n\r\n            if(_pos.left !== undefined && _pos.right !== undefined){\r\n                delete _pos.right\r\n            }\r\n\r\n            Nui.each(_pos, function(v, k){\r\n                if(v === undefined){\r\n                    delete _pos[k];\r\n                    return true;\r\n                }\r\n                _v = v;\r\n                if(typeof v === 'string'){\r\n                    if(!v){\r\n                        _v = 0\r\n                    }\r\n                    else{\r\n                        if(k === 'top' || k === 'bottom'){\r\n                            if(v === 'self'){\r\n                                _v = data.outerHeight\r\n                            }\r\n                            else if(/[\\+\\-\\*\\/]/.test(v)){\r\n                                _v = (new Function('var self = '+data.outerHeight+'; return '+v))()\r\n                            }\r\n                        }\r\n                        else{\r\n                            if(v === 'self'){\r\n                                _v = data.outerWidth\r\n                            }\r\n                            else if(/[\\+\\-\\*\\/]/.test(v)){\r\n                                _v = (new Function('var self = '+data.outerWidth+'; return '+v))()\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                _pos[k] = _v === 'auto' ? 'auto' : parseFloat(_v)+'px'\r\n            })\r\n\r\n            return _pos\r\n        },\r\n        _resize:function(type){\r\n            var that = this, self = that.constructor, opts = that.options, element = that.element;\r\n            var wWidth = that._window.outerWidth();\r\n            var wHeight = that._window.outerHeight();\r\n            var stop = 0;\r\n            var sleft = 0;\r\n            if(!that._isFixed){\r\n                sleft = that._window.scrollLeft();\r\n                stop = that._window.scrollTop();\r\n            }\r\n            that._setSize();\r\n            if(opts.position){\r\n                var pos = element.css(that._position()).position();\r\n                if(Nui.bsie6){\r\n                    sleft = 0;\r\n                    stop = 0;\r\n                }\r\n                that.data.left = pos.left + sleft;\r\n                that.data.top = pos.top + stop;\r\n            }\r\n            else{\r\n                if(type === 'init' || opts.isCenter === true){\r\n                    var left = (wWidth - that.data.outerWidth) / 2 + sleft;\r\n                    var top = (wHeight - that.data.outerHeight) / 2 + stop;\r\n                    var edge = opts.edge > 0 ? opts.edge : 0;\r\n                    that.data.left = left > 0 ? left : edge;\r\n                    that.data.top = top > 0 ? top : edge;\r\n                }\r\n            }\r\n            that.data.offsetTop = that.data.top - that._window.scrollTop();\r\n            that.data.offsetLeft = that.data.left - that._window.scrollLeft();\r\n            element.css(that.data);\r\n        },\r\n        _setSize:function(){\r\n            var that = this, self = that.constructor, opts = that.options, element = that.element;\r\n            var edge = opts.edge > 0 ? opts.edge*2 : 0;\r\n            var wWidth = that._window.outerWidth() - edge;\r\n            var wHeight = that._window.outerHeight() - edge;\r\n\r\n            that._body.css({height:'auto', overflow:'visible'});\r\n            element.css({top:'auto', left:'auto', width:'auto', height:'auto'});\r\n            \r\n            var edgeSize = self._getSize(that._box, 'tb', 'all') +\r\n                that._head.outerHeight() + \r\n                self._getSize(that._head, 'tb', 'margin') + \r\n                self._getSize(that._body, 'tb', 'all') + \r\n                that._foot.outerHeight() + \r\n                self._getSize(that._foot, 'tb', 'margin');\r\n\r\n            var width = element.outerWidth();\r\n            if(opts.isFull !== true){\r\n                if(opts.width > 0){\r\n                    width = opts.width\r\n                }\r\n                if(opts.maxWidth > 0 && width >= opts.maxWidth){\r\n                    width = opts.maxWidth\r\n                }\r\n                if(opts.scrollbar === true && width > wWidth){\r\n                    width = wWidth\r\n                }\r\n            }\r\n            else{\r\n                width = wWidth;\r\n            }\r\n\r\n            var ws = 'nowrap';\r\n            if(opts.width > 0 || width == opts.maxWidth || width == wWidth){\r\n                ws = 'normal';\r\n            }\r\n\r\n            that.data.width = width - self._getSize(element, 'lr', 'all');\r\n            that._main.css('white-space', ws);\r\n            element.width(that.data.width);\r\n\r\n            var height = element.outerHeight();\r\n            if(that._iframeDocument){\r\n                that._iframeDocument[0].layer = that;\r\n                height = edgeSize + that._iframeDocument.find('body').outerHeight();\r\n            }\r\n\r\n            if(opts.isFull !== true){\r\n                height = opts.height > 0 ? opts.height : height;\r\n                if(opts.maxHeight > 0 && height >= opts.maxHeight){\r\n                    height = opts.maxHeight\r\n                }\r\n                if(opts.scrollbar === true || that._iframeDocument){\r\n                    if(height > wHeight){\r\n                        height = wHeight\r\n                    }\r\n                }\r\n            }\r\n            else{\r\n                height = wHeight\r\n            }\r\n\r\n            that.data.outerWidth = width;\r\n            that.data.outerHeight = height;\r\n            that.data.height = height - self._getSize(element, 'tb', 'all');\r\n            element.height(that.data.height);\r\n            var _height = that.data.height - edgeSize;\r\n            if(that._main.outerHeight() > _height && !that._iframe && opts.scrollbar === true){\r\n                that._body.css('overflow', 'auto')\r\n            }\r\n            if(that._iframe){\r\n                that._iframe.height(_height);\r\n            }\r\n            that._body.height(_height)\r\n        },\r\n        _showMask:function(){\r\n            var that = this, self = that.constructor, opts = that.options;\r\n            if(!that._containerDOM.__layermask__){\r\n                that._containerDOM.__layermask__ = $(that._tpl2html('mask', {\r\n                    skin:opts.skin,\r\n                    style:{\r\n                        'z-index':self._maskzIndex,\r\n                        'position':that._isFixed ? 'fixed' : 'absolute',\r\n                        'top':'0px',\r\n                        'left':'0px',\r\n                        'width':'100%',\r\n                        'height':that._isFixed ? '100%' : that._container.outerHeight()+'px'\r\n                    }\r\n                })).appendTo(that._container);\r\n            }\r\n            if(opts.isClickMask === true){\r\n                that._on('click', that._containerDOM.__layermask__, function(){\r\n                    that.hide()\r\n                })\r\n            }\r\n        },\r\n        _show:function(){\r\n            var that = this, opts = that.options;\r\n            component('init', that._main);\r\n            that._resize('init');\r\n            that._setLower();\r\n            if(opts.isMask === true){\r\n                that._showMask()\r\n            }\r\n            if(opts.timer > 0){\r\n                that._timer = setTimeout(function(){\r\n                    that.hide();\r\n                }, opts.timer);\r\n            }\r\n            if(typeof opts.onInit === 'function'){\r\n                opts.onInit.call(this, that._main, that.__id)\r\n            }\r\n            return that\r\n        },\r\n        _reset:function(){\r\n            var that = this, self = that.constructor, noMask = true;\r\n            component.exports._reset.call(this);\r\n            component('destroy', that._main);\r\n            Nui.each(self.__instances, function(val){\r\n                if(val && val.options.isMask === true && val !== that && val._containerDOM === that._containerDOM){\r\n                    return (noMask = false);\r\n                }   \r\n            });\r\n            if(noMask && that._containerDOM.__layermask__){\r\n                that._containerDOM.__layermask__.remove();\r\n                that._containerDOM.__layermask__  = null;\r\n            }\r\n            if(that.options.timer > 0){\r\n                clearTimeout(that._timer);\r\n            }\r\n        },\r\n        resize:function(){\r\n            var that = this, opts = that.options, element = that.element;\r\n            that._resize();\r\n            if(typeof opts.onResize === 'function'){\r\n                opts.onResize.call(this, that._main, that.__id)\r\n            }\r\n            return that\r\n        },\r\n        hide:function(){\r\n            if(this.options.isHide === true){\r\n                this.destroy()\r\n            }\r\n        },\r\n        destroy:function(){\r\n            var that = this, self = that.constructor, opts = that.options;\r\n            that._delete();\r\n            that._reset();\r\n            that._setLower(true);\r\n            self._zIndex--;\r\n            if(typeof opts.onDestroy === 'function'){\r\n                opts.onDestroy.call(this, that._main, that.__id)\r\n            }\r\n        }\r\n    })\r\n});\n/**\r\n * @author Aniu[2016-11-10 22:39]\r\n * @update Aniu[2016-11-10 22:39]\r\n * @version 1.0.1\r\n * @description layer扩展\r\n */\r\n\r\nNui.define('{cpns}/layer/layerExt',['src/components/layer/layer'], function(layer){\r\n\r\n    layer.alert = function(content, title, width, height){\r\n        var opts;\r\n        if(typeof content === 'object'){\r\n            opts = content;\r\n            content = opts.content;\r\n            delete opts.content;\r\n        }\r\n        return layer($.extend({\r\n            content:'<div style=\"padding:10px; line-height:20px;\">'+(content||'')+'</div>',\r\n            width:width,\r\n            height:height,\r\n            cancel:{\r\n                text:'关闭'\r\n            }\r\n        }, opts||{}))\r\n    }\r\n\r\n    layer.confirm = function(content, callback, title, width, height){\r\n        var opts;\r\n        if(typeof content === 'object'){\r\n            opts = content;\r\n            content = opts.content;\r\n            delete opts.content;\r\n        }\r\n        return layer($.extend(true, {\r\n            content:'<div style=\"padding:10px; line-height:20px;\">'+(content||'')+'</div>',\r\n            width:width,\r\n            height:height,\r\n            align:'right',\r\n            confirm:{\r\n                callback:callback||function(){\r\n                    return true\r\n                }\r\n            }\r\n        }, opts||{}, {\r\n            confirm:{\r\n                enable:true\r\n            }\r\n        }))\r\n    }\r\n\r\n    layer.iframe = function(src, title, width, height){\r\n        return layer({\r\n            iframe:{\r\n                enable:true,\r\n                src:src\r\n            },\r\n            width:width,\r\n            height:height,\r\n            cancel:{\r\n                text:'关闭'\r\n            }\r\n        })\r\n    }\r\n\r\n    layer.tips = function(content, dir, position, width, height){\r\n        var opts;\r\n        if(typeof content === 'object'){\r\n            opts = content;\r\n            content = opts.content;\r\n            delete opts.content;\r\n        }\r\n        return layer($.extend(true, {\r\n            content:content,\r\n            id:'tips',\r\n            width:width||'auto',\r\n            height:height||'auto',\r\n            position:position,\r\n            bubble:{\r\n                enable:true,\r\n                dir:dir||'top'\r\n            }\r\n        }, opts||{}, {\r\n            isTips:true,\r\n            isMask:false,\r\n            isClose:false,\r\n            close:{\r\n                enable:false\r\n            }\r\n        }))\r\n    }\r\n\r\n    layer.loading = function(content, width, height){\r\n        var opts;\r\n        if(typeof content === 'object'){\r\n            opts = content;\r\n            content = opts.content;\r\n            delete opts.content;\r\n        }\r\n        if(Nui.type(content, 'Number')){\r\n            height = width;\r\n            width = content;\r\n            content = '';\r\n        }\r\n        return layer($.extend({\r\n            content:'<div style=\"padding:10px;\">'+(content||'正在加载数据...')+'</div>',\r\n            width:width||'auto',\r\n            height:height||'auto',\r\n        }, opts || {}, {\r\n            id:'loading',\r\n            isTips:true,\r\n            close:{\r\n                enable:false\r\n            }\r\n        }))\r\n    }\r\n\r\n    layer.message = function(type, content){\r\n        var opts, color = '#f00';\r\n        if(typeof type === 'object'){\r\n            opts = type;\r\n            content = opts.content;\r\n            delete opts.content;\r\n            type = 'success';\r\n        }\r\n\r\n        if(type !== 'success' && type !== 'error'){\r\n            type = 'success';\r\n        }\r\n\r\n        if(type === 'success' && !content){\r\n            content = '操作成功'\r\n        }\r\n        else if(type === 'error' && !content){\r\n            content = '操作失败'\r\n        }\r\n\r\n        if(type === 'success'){\r\n            color = '#39B54A';\r\n        }\r\n\r\n        return layer($.extend({\r\n            content:'<div style=\"padding:10px; color:'+ color +';\">'+content+'</div>',\r\n            id:'message',\r\n            width:'auto',\r\n            height:'auto',\r\n            isTips:true,\r\n            timer:1500,\r\n            close:{\r\n                enable:true\r\n            }\r\n        }, opts || {}, {\r\n            isMask:false\r\n        }))\r\n    }\r\n\r\n    layer.form = function(options){\r\n        var validatPlus = module.require('{plus}/validate');\r\n        var onInit = options.onInit;\r\n        delete options.onInit;\r\n        var validator;\r\n        var valid = options.valid;\r\n        var btns = $.extend([], options.button || [{\r\n            id:'cancel',\r\n            text:'关闭'\r\n        }, {\r\n            id:'confirm',\r\n            name:'normal',\r\n            text:'保存'\r\n        }])\r\n\r\n        Nui.each(btns, function(val, i){\r\n            if(val.id === 'confirm' && !val.callback){\r\n                btns[i].callback = function(main){\r\n                    main.find('form').submit()\r\n                }\r\n                return false\r\n            }\r\n        })\r\n\r\n        delete options.button;\r\n        var formLayer = layer($.extend(true, {button:btns}, {\r\n            scrollbar:false,\r\n            id:'form',\r\n            onInit:function(main, id){\r\n                var that = this;\r\n                var elems = main.find('[name!=\"\"][data-rule]');\r\n                var form = main.find('form');\r\n                var rules = {};\r\n                var messages = {};\r\n                var setting = form.data('setting');\r\n                elems.each(function(){\r\n                    var elem = $(this);\r\n                    var name = elem.attr('name');\r\n                    var data = elem.data();\r\n                    var rule = eval('('+ data.rule +')');\r\n                    var message = eval('('+ data.message +')');\r\n                    rules[name] = rule;\r\n                    $.each(message, function(key, msg){\r\n                        if(typeof options.messageFilter === 'function'){\r\n                            message[key] = options.messageFilter(name, msg)||''\r\n                        }\r\n                    })\r\n                    messages[name] = message;\r\n                });\r\n                var opts = {\r\n                    rules:rules,\r\n                    messages:messages,\r\n                    errorClass:'s-err',\r\n\t\t\t\t\tonkeyup:false,\r\n\t\t\t\t\tfocusInvalid:false,\r\n\t\t\t\t\tfocusCleanup:true,\r\n                    ignore:'',\r\n                    success:function(error, element){\r\n\t\t\t\t\t\terror.remove();\r\n\t\t\t\t\t\t$(element).addClass('s-succ');\r\n\t\t\t\t\t},\r\n\t\t\t\t\terrorPlacement:function(error, element){\r\n\t\t\t\t\t\telement.removeClass('s-succ');\r\n\t\t\t\t\t\tif(error.text()){\r\n\t\t\t\t\t\t\telement.closest(options.itemWrap||'.ui-item').find(options.errorWrap||'.ui-err').html(error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n                    submitHandler:function(){\r\n                        var param = {};\r\n                        if(options.ajax && typeof options.ajax.getData === 'function'){\r\n                        \tparam = options.ajax.getData(form)\r\n                        }\r\n                        else{\r\n                        \tvar serialize = form.serializeArray();\r\n                        \t$.each(serialize, function(k, v){\r\n                                if(!param[v.name]){\r\n                                    param[v.name] = [];\r\n                                }\r\n                                param[v.name].push(v.value)\r\n                            })\r\n                            for(var i in param){\r\n                                param[i] = param[i].join(',')\r\n                            }\r\n                        }\r\n                        var loading = layer.loading({\r\n                            content:options.loading||'正在保存数据...',\r\n                            under:that\r\n                        });\r\n                        if(typeof options.onBeforeSubmit === 'function'){\r\n                        \tparam = options.onBeforeSubmit.call(that, main, id, param) || param;\r\n                        }\r\n                        $.ajax($.extend({\r\n                            url:form.attr('action'),\r\n                            dataType:'json',\r\n                            type:form.attr('method')||'POST',\r\n                            data:param,\r\n                            success:function(res, xhr){\r\n                                loading.hide();\r\n                                if(typeof options.onSuccess === 'function'){\r\n                                    options.onSuccess.call(that, main, id, res, xhr)\r\n                                }\r\n                            },\r\n                            error:function(xhr){\r\n                                loading.hide();\r\n                                if(typeof options.onError === 'function'){\r\n                                    options.onError.call(that, main, id, xhr)\r\n                                }\r\n                            }\r\n                        }, options.ajax||{}), null)\r\n                    }\r\n                }\r\n                validator = form.validate($.extend(true, opts, setting||{}, valid||{}))\r\n                typeof onInit === 'function' && onInit.call(that, main, id, validator)\r\n            }\r\n        }, options||{}))\r\n        formLayer.validator = validator;\r\n        return formLayer\r\n    }\r\n\r\n    return layer\r\n})\r\n\nNui.define('./script/demo',function(require,imports,renders,extend){\n\tvar module=this;\n\tvar layer = require('{cpns}/layer/layerExt');\r\n\tvar placeholder = require('{cpns}/placeholder');\r\n\t\r\n\t    \r\n\t\r\n\t    var lay = layer({\r\n\t        content:'<input type=\"text\" data-placeholder-options=\"{animate:true}\" placeholder=\"默认文本\"><a>aaa</a>',\r\n\t        width:300,\r\n\t        maxWidth:400,\r\n\t        id:'aaa',\r\n\t        skin:'aaa',\r\n\t        title:'',\r\n\t       //isFull:true,\r\n\t        //maxWidth:100,\r\n\t       // isFixed:false,\r\n\t        close:{\r\n\t            //enable:false\r\n\t        },\r\n\t        cancel:{\r\n\t            //enable:false\r\n\t        },\r\n\t        isCenter:true,\r\n\t        isMask:false,\r\n\t        isClickMask:true,\r\n\t        //maxHeight:300,\r\n\t        //edge:10,\r\n\t        //container:'#box',\r\n\t        isTop:true,\r\n\t        isMove:true,\r\n\t        //isMoveMask:true,\r\n\t        isInnerMove:true,\r\n\t        isHide:false,\r\n\t        timer:1000,\r\n\t        button:[{\r\n\t            id:'aaaaa',\r\n\t            text:'111' \r\n\t        }],\r\n\t        /*bubble:{\r\n\t            enable:true\r\n\t        },*/\r\n\t        /*iframe:{\r\n\t            enable:true,\r\n\t            src:'http://127.0.0.1/project/haoju/haoju2014/'\r\n\t        },*/\r\n\t        position:{\r\n\t            bottom:'self*-1+30',\r\n\t            right:0\r\n\t        },\r\n\t        scrollbar:true,\r\n\t        onInit:function(main){\r\n\t            //var lay = this;\r\n\t            \r\n\t            main.on('click', 'a', function(){\r\n\t                //lay.reset()\r\n\t                main.append('<p>aaaa</p><p>aaaa</p><p>aaaa</p><p>aaaa</p><p>aaaa</p><p>aaaa</p><p>aaaa</p>');\r\n\t                lay.resize()\r\n\t                /*layer({\r\n\t                    lower:lay,\r\n\t                    width:100\r\n\t                })*/\r\n\t               // lay.hide()\r\n\t            })\r\n\t        }\r\n\t    })\r\n\t\r\n\t    /*layer.alert({\r\n\t        content:'1111',\r\n\t        under:lay\r\n\t    })*/\r\n\t    layer.message('')\r\n\t\r\n\t$('#btn').click(function(){\r\n\t    lay.element.animate({\r\n\t        top:lay.data.top - lay.data.outerHeight + 30,\r\n\t        //left:lay.data.left - lay.data.outerWidth,\r\n\t    })\r\n\t})\r\n\t\r\n\t$('#reset').click(function(){\r\n\t    layer('reset')\r\n\t})\r\n\t\r\n\t//a.destroy()\n});"]}