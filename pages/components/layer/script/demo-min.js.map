{"version":3,"sources":["demo-debug.js"],"names":["Nui","define","util","component","support","supportHtml5","this","extend","options","text","animate","equal","color","_template","list","wrap","elem","_init","_exec","that","target","_getTarget","deftext","attr","trim","undefined","val","_create","opts","self","constructor","removeAttr","data","_tplData","style","position","display","width","outerWidth","overflow","cursor","_tpl2html","element","$","height","outerHeight","isText","is","left","_getSize","top","line-height","insertAfter","_event","_setStyle","className","__id","addClass","_createStyle","_createRules","document","createElement","head","appendChild","sheet","id","deleteRule","e","each","v","selector","rules","addRule","insertRule","_events","pleft","_on","focus","stop","opacity","value","hide","show","_reset","_off","remove","unwrap","removeClass","arguments","length","statics","_maskzIndex","_zIndex","win","on","__instances","isCenter","setTimeout","resize","$fn","$ready","init","content","maxWidth","maxHeight","timer","edge","container","title","isMove","isMask","isInnerMove","isClickMask","isMoveMask","isHide","isFull","isTop","isTip","isFixed","scrollbar","align","bubble","enable","dir","iframe","cache","src","close","confirm","name","callback","cancel","under","button","onMove","onResize","onScroll","static","layout","mask","movemask","_temp","_container","_jquery","_containerDOM","get","tagName","_window","_isWindow","pos","css","_isFixed","bsie6","buttons","isTitle","_createButton","_getContent","z-index","_setTop","appendTo","_box","children","_head","_body","_main","_foot","_iframe","_iframeOnload","_bindMove","_button","_buttonEvent","_bindTop","_bindScroll","_show","_createIframe","jQuery","prop","setParam","Date","getTime","frameborder","scroll","load","_iframeDocument","contents","_resize","defaults","caches","btn","push","unshift","slice","hasClass","isCall","call","destroy","_setzIndex","x","y","_x","_y","ele","_moveMask","skin","_data","pageX","pageY","stopPropagation","doc","scrollTop","scrollLeft","_isTop","_setLower","type","unders","isArray","obj","k","wWidth","wHeight","sleft","_setSize","_position","right","bottom","_pos","edgeSize","layer","find","_height","_showMask","__layermask__","_timer","onInit","noMask","exports","clearTimeout","_delete","onDestroy","alert","tip","isClose","loading","message","form","require","imports","renders","click"],"mappings":"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","file":"demo-min.js","sourcesContent":["/**\r\n * @author Aniu[2016-11-10 22:39]\r\n * @update Aniu[2016-11-10 22:39]\r\n * @version 1.0.1\r\n * @description 输入框占位符\r\n */\r\n\r\nNui.define('{cpns}/placeholder',['util', 'component'], function(util, component){\r\n    var support = util.supportHtml5('placeholder', 'input');\r\n    return this.extend(component, {\r\n        options:{\r\n            /**\r\n             * @func 输入框占位提示文本，若元素上含有placeholder属性将会覆盖该值\r\n             * @type <String>\r\n             */\r\n            text:'',\r\n            /**\r\n             * @func 是否启用动画显示展示\r\n             * @type <Boolean>\r\n             */\r\n            animate:false,\r\n            /**\r\n             * @func 输入框值是否可以和占位符相同\r\n             * @type <Boolean>\r\n             */\r\n            equal:false,\r\n            /**\r\n             * @func 占位符文本颜色\r\n             * @type <String>\r\n             */\r\n            color:'#ccc'\r\n        },\r\n        _template:{\r\n            list:'<%each style%><%$index%>:<%$value%>;<%/each%>',\r\n            wrap:'<strong class=\"<% className %>\" style=\"<%include \\'list\\'%>\" />',\r\n            elem:'<b style=\"<%include \\'list\\'%>\"><%text%></b>'\r\n        },\r\n        _init:function(){\r\n            this._exec();\r\n        },\r\n        _exec:function(){\r\n            var that = this, target = that._getTarget();\r\n            if(target){\r\n                var text = that.deftext = target.attr('placeholder');\r\n                if(!that.deftext && that.options.text){\r\n                    target.attr('placeholder', text = that.options.text)\r\n                }\r\n                that.text = Nui.trim(text);\r\n                if(that.val === undefined){\r\n                    that.val = Nui.trim(target.val());\r\n                }\r\n                if(that.text){\r\n                    that._create()\r\n                }\r\n            }\r\n        },\r\n        _create:function(){\r\n            var that = this, opts = that.options, self = that.constructor;\r\n            if(opts.animate || (!opts.animate && !support)){\r\n                if(opts.animate){\r\n                    that.target.removeAttr('placeholder')\r\n                }\r\n                var data = that._tplData();\r\n                data.style = {\r\n                    'position':'relative',\r\n                    'display':'inline-block',\r\n                    'width':that.target.outerWidth()+'px',\r\n                    'overflow':'hidden',\r\n                    'cursor':'text'\r\n                }\r\n                that.target.wrap(that._tpl2html('wrap', data))\r\n                that.element = $(that._tpl2html('elem', {\r\n                        text:that.text,\r\n                        style:(function(){\r\n                            var height = that.target.outerHeight();\r\n                            var isText = that.target.is('textarea');\r\n                            return ({\r\n                                'display':Nui.trim(that.target.val()) ? 'none' : 'inline',\r\n                                'position':'absolute',\r\n                                'left':self._getSize(that.target, 'l', 'padding')+self._getSize(that.target, 'l')+'px',\r\n                                'top':self._getSize(that.target, 't', 'padding')+self._getSize(that.target, 't')+'px',\r\n                                'height':isText ? 'auto' : height+'px',\r\n                                'line-height':isText ? 'normal' : height+'px',\r\n                                'color':opts.color\r\n                            })\r\n                        })()\r\n                    })).insertAfter(that.target)\r\n\r\n                that._event()\r\n            }\r\n            else{\r\n                that._setStyle()\r\n            }\r\n        },\r\n        _setStyle:function(){\r\n            var that = this, opts = that.options;\r\n            that.className = '_placeholder-'+that.__id;\r\n            that.target.addClass(that.className);\r\n            if(!that.constructor.style){\r\n                that._createStyle()\r\n            }\r\n            that._createRules()\r\n        },\r\n        _createStyle:function(){\r\n            var that = this;\r\n            var style = document.createElement('style');\r\n            document.head.appendChild(style);\r\n            that.constructor.style = style.sheet\r\n        },\r\n        _createRules:function(){\r\n            var that = this;\r\n            var sheet = that.constructor.style;\r\n            var id = that.__id;\r\n            try{\r\n                sheet.deleteRule(id)\r\n            }\r\n            catch(e){}\r\n            Nui.each(['::-webkit-input-placeholder', ':-ms-input-placeholder', '::-moz-placeholder'], function(v){\r\n                var selector = '.'+that.className+v;\r\n                var rules = 'opacity:1; color:'+(that.options.color||'');\r\n                try{\r\n                    if('addRule' in sheet){\r\n                        sheet.addRule(selector, rules, id)\r\n                    }\r\n                    else if('insertRule' in sheet){\r\n                        sheet.insertRule(selector + '{' + rules + '}', id)\r\n                    }\r\n                }\r\n                catch(e){}\r\n            })\r\n        },\r\n        _events:function(){\r\n            var that = this, opts = that.options, self = that.constructor;\r\n            var pleft = self._getSize(that.target, 'l', 'padding') + self._getSize(that.target, 'l');\r\n            that._on('click', that.element, function(){\r\n                that.target.focus()\r\n            })\r\n\r\n            that._on('focus', that.target, function(){\r\n                opts.animate && that.element.stop(true, false).animate({left:pleft+10, opacity:'0.5'});\r\n            })\r\n\r\n            that._on('blur change', that.target, function(e, elem){\r\n                that.value();\r\n            })\r\n\r\n            that._on('keyup keydown', that.target, function(e, elem){\r\n                Nui.trim(elem.val()) ? that.element.hide() : that.element.show()\r\n            })\r\n        },\r\n        _reset:function(){\r\n            var that = this;\r\n            that._off();\r\n            if(that.element){\r\n                that.element.remove();\r\n                that.target.unwrap();\r\n            }\r\n            that.target.val(that.val).removeClass(that.className);\r\n            if(that.deftext){\r\n                that.target.attr('placeholder', that.deftext)\r\n            }\r\n            else{\r\n                that.target.removeAttr('placeholder')\r\n            }\r\n        },\r\n        value:function(val){\r\n            var self = this.constructor, target = this.target;\r\n            var pleft = self._getSize(target, 'l', 'padding') + self._getSize(target, 'l');\r\n            var v = Nui.trim(!arguments.length ? target.val() : target.val(val).val());\r\n            if((!this.options.equal && v === this.text) || !v){\r\n                target.val('');\r\n                this.element && this.element.show();\r\n                if(this.options.animate){\r\n                    this.element.stop(true, false).animate({left:pleft, opacity:'1'})\r\n                }\r\n            }\r\n            else if(this.element){\r\n                this.element.hide()\r\n            }\r\n        }\r\n    })\r\n})\r\n\n/**\r\n * @author Aniu[2016-11-10 22:39]\r\n * @update Aniu[2016-11-10 22:39]\r\n * @version 1.0.1\r\n * @description layer弹出层\r\n */\r\n\r\nNui.define('src/components/layer/layer',['component', 'util'], function(component, util){\r\n    var module = this;\r\n\r\n    var statics = {\r\n        _maskzIndex:10000,\r\n        _zIndex:10000,\r\n        _init:function(){\r\n            var self = this;\r\n            Nui.win.on('resize', function(){\r\n                Nui.each(self.__instances, function(val){\r\n                    var opts = val.options;\r\n                    if(opts.position || opts.isCenter === true){\r\n                        setTimeout(function(){\r\n                            val.resize();\r\n                        })\r\n                    }\r\n                })\r\n            })\r\n        },\r\n        $fn:null,\r\n        $ready:null,\r\n        init:null\r\n    }\r\n\r\n    var options = {\r\n        content:'',\r\n        width:320,\r\n        height:'auto',\r\n        maxWidth:0,\r\n        maxHeight:0,\r\n        timer:0,\r\n        edge:0,\r\n        container:'body',\r\n        title:'温馨提示',\r\n        isMove:false,\r\n        isMask:true,\r\n        isInnerMove:false,\r\n        isClickMask:false,\r\n        isMoveMask:false,\r\n        isHide:true,\r\n        isCenter:false,\r\n        isFull:false,\r\n        isTop:false,\r\n        isTip:false,\r\n        isFixed:true,\r\n        scrollbar:true,\r\n        align:'center',\r\n        bubble:{\r\n            enable:false,\r\n            dir:'top'\r\n        },\r\n        iframe:{\r\n            enable:false,\r\n            cache:false,\r\n            src:''\r\n        },\r\n        close:{\r\n            enable:true,\r\n            text:'×'\r\n        },\r\n        confirm:{\r\n            enable:false,\r\n            name:'normal',\r\n            text:'确定',\r\n            callback:function(){\r\n                return true\r\n            }\r\n        },\r\n        cancel:{\r\n            enable:true,\r\n            text:'取消'\r\n        },\r\n        position:null,\r\n        under:null,\r\n        button:null,\r\n        onMove:null,\r\n        onResize:null,\r\n        onScroll:null\r\n    }\r\n\r\n    return this.extend(component, {\r\n        static:statics,\r\n        options:options,\r\n        _template:{\r\n            layout:\r\n                '<div class=\"<% className %>\" style=\"<% include \\'style\\' %>\">'+\r\n                    '<div class=\"layer-box\">'+\r\n                        '<%if close%>'+\r\n                            '<% var btn = close %>'+\r\n                            '<% include \"button\" %>'+\r\n                        '<%/if%>'+\r\n                        '<%if bubble%>'+\r\n                        '<span class=\"layer-bubble layer-bubble-<%bubble%>\"><b></b><i></i></span>'+\r\n                        '<%/if%>'+\r\n                        '<%if title%>'+\r\n                        '<div class=\"layer-head\">'+\r\n                            '<span class=\"layer-title\"><%title%></span>'+\r\n                        '</div>'+\r\n                        '<%/if%>'+\r\n                        '<div class=\"layer-body\">'+\r\n                            '<div class=\"layer-main\">'+\r\n                            '<%content%>'+\r\n                            '</div>'+\r\n                        '</div>'+\r\n                        '<%if button && button.length%>'+\r\n                        '<div class=\"layer-foot\" style=\"text-align:<%align%>\">'+\r\n                        '<%each button btn%>'+\r\n                            '<%include \"button\"%>'+\r\n                        '<%/each%>'+\r\n                        '</div>'+\r\n                        '<%/if%>'+\r\n                    '</div>'+\r\n                '</div>',\r\n            button:\r\n                '<button class=\"ui-button'+\r\n                    '<%if btn.name%>'+\r\n                    '<%each [].concat(btn.name) name%> ui-button-<%name%><%/each%>'+\r\n                    '<%/if%>'+\r\n                    ' layer-button-<%btn.id%>\"><%btn.text || \"按钮\"%></button>',\r\n            iframe:\r\n                '<iframe<%each attr%> <%$index%>=\"<%$value%>\"<%/each%>></iframe>',\r\n            mask:\r\n                '<div class=\"nui-layer-mask'+\r\n                    '<%if skin%> nui-layer-mask-<%skin%><%/if%>\" style=\"<%include \\'style\\'%>\">'+\r\n                    '<div class=\"layer-mask\"></div>'+\r\n                '</div>',\r\n            movemask:\r\n                '<div class=\"nui-layer-movemask'+\r\n                    '<%if skin%> nui-layer-movemask-<%skin%><%/if%>\" style=\"<%include \\'style\\'%>\">'+\r\n                '</div>',\r\n            style:\r\n                '<%each style%><%$index%>: <%$value%>; <%/each%>'\r\n        },\r\n        /*\r\n        top:弹窗距离窗口顶部距离\r\n        left:弹窗距离窗口左边距离\r\n        width:弹窗宽度\r\n        height:弹窗高度\r\n        */\r\n        _temp:{},\r\n        _init:function(){\r\n            this._zIndex = ++this.constructor._zIndex;\r\n            this._exec()\r\n        },\r\n        _exec:function(){\r\n            var that = this, opts = that.options, self = that.constructor;\r\n            that._container = self._jquery(opts.container);\r\n            if(that._container.length){\r\n                that._containerDOM = that._container.get(0);\r\n                if(that._containerDOM.tagName !== 'BODY'){\r\n                    that._window = that._container;\r\n                    that._isWindow = false;\r\n                    var pos = that._container.css('position');\r\n                    if(pos !== 'absolute' && pos !== 'relative'){\r\n                        that._container.css('position', 'relative')\r\n                    }\r\n                }\r\n                else{\r\n                    that._window = Nui.win;\r\n                    that._isWindow = true;\r\n                }\r\n                that._isFixed = opts.isFixed && !Nui.bsie6 && that._isWindow;\r\n                that._create();\r\n            }\r\n        },\r\n        _create:function(){\r\n            var that = this, opts = that.options;\r\n            var buttons = {}, isTitle = false;\r\n            if(opts.isTip !== true){\r\n                buttons = that._createButton();\r\n                isTitle = typeof opts.title === 'string';\r\n            }\r\n            var data = that._tplData({\r\n                content:that._getContent(),\r\n                close:buttons.close,\r\n                button:buttons.button,\r\n                title:isTitle ? (opts.title||'温馨提示') : null,\r\n                bubble:opts.bubble.enable === true ? opts.bubble.dir : null,\r\n                align:opts.align || 'center',\r\n                style:{\r\n                    'z-index':that._zIndex,\r\n                    'position':'absolute',\r\n                    'display':'block'\r\n                }\r\n            });\r\n            if(that._isFixed){\r\n                data.style.position = 'fixed';\r\n            }\r\n            that._setTop();\r\n            that.element = $(that._tpl2html('layout', data)).appendTo(that._container);\r\n            that._box = that.element.children('.layer-box');\r\n\t\t\tthat._head = that._box.children('.layer-head');\r\n\t\t\tthat._body = that._box.children('.layer-body');\r\n\t\t\tthat._main = that._body.children('.layer-main');\r\n\t\t\tthat._foot = that._box.children('.layer-foot');\r\n            if(opts.isTip !== true){\r\n                if(opts.iframe.enable === true){\r\n                    that._iframe = that._main.children('iframe');\r\n                    that._iframeOnload()\r\n                }\r\n                if(opts.isMove === true && isTitle){\r\n                    that._bindMove();\r\n                }\r\n                if(that._button.length){\r\n                    that._buttonEvent();\r\n                }\r\n                if(opts.isTop === true){\r\n                    that._bindTop();\r\n                }\r\n            }\r\n            if(opts.isFixed === true && !that._isFixed === true){\r\n                that._bindScroll()\r\n            }\r\n            that._show()\r\n        },\r\n        _getContent:function(){\r\n            var that = this, opts = that.options, content = '';\r\n            if(opts.isTip !== true && opts.iframe.enable === true){\r\n                content = that._createIframe();\r\n            }\r\n            else{\r\n                if(typeof opts.content === 'string'){\r\n                    content = opts.content\r\n                }\r\n                else if(opts.content instanceof jQuery){\r\n                    content = opts.content.prop('outerHTML')\r\n                }\r\n            }\r\n            return content\r\n        },\r\n        _createIframe:function(){\r\n            var that = this, opts = that.options, name = 'layer-iframe'+that.__id, src = opts.iframe.src;\r\n            if(options.iframe.cache === false){\r\n                src = util.setParam('_', new Date().getTime(), src)\r\n            }\r\n            return that._tpl2html('iframe', {\r\n                attr:{\r\n                    frameborder:'0',\r\n                    name:name,\r\n                    id:name,\r\n                    src:src,\r\n                    scroll:'hidden',\r\n                    style:'width:100%;'\r\n                }\r\n            })\r\n        },\r\n        _iframeOnload:function(){\r\n            var that = this;\r\n            that._iframe.load(function(){\r\n                that._iframeDocument = that._iframe.contents();\r\n                that._resize()\r\n            })\r\n        },\r\n        _createButton:function(){\r\n            var that = this, opts = that.options, defaults = {}, buttons = {}, caches = {};\r\n            that._button = [];\r\n            Nui.each(['confirm', 'cancel'], function(id){\r\n                var btn = opts[id];\r\n                if(btn && btn.enable === true){\r\n                    defaults[id] = {\r\n                        id:id,\r\n                        name:btn.name,\r\n                        text:btn.text,\r\n                        callback:btn.callback\r\n                    }\r\n                }\r\n            });\r\n            if(opts.button && opts.button.length){\r\n                Nui.each(opts.button, function(val){\r\n                    var id = val.id;\r\n                    if(!caches[id]){\r\n                        caches[id] = true;\r\n                        if(defaults[id]){\r\n                            if(!val.text){\r\n                                if(id === 'cancel'){\r\n                                    val.text = '取消'\r\n                                }\r\n                                else if(id === 'confirm'){\r\n                                    val.text = '确定'\r\n                                }\r\n                            }\r\n                            delete defaults[id]\r\n                        }\r\n                        that._button[id === 'close' ? 'unshift' : 'push'](val)\r\n                    }\r\n                })\r\n            }\r\n            Nui.each(defaults, function(val){\r\n                that._button.push(val)\r\n            });\r\n            if(!caches.close && opts.close && opts.close.enable === true){\r\n                that._button.unshift({\r\n                    id:'close',\r\n                    name:opts.close.name,\r\n                    text:opts.close.text,\r\n                    callback:opts.close.callback\r\n                })\r\n            }\r\n            if(that._button[0] && that._button[0].id === 'close'){\r\n                buttons.close = that._button[0],\r\n                buttons.button = that._button.slice(1);\r\n            }\r\n            else{\r\n                buttons.button = that._button\r\n            }\r\n            return buttons\r\n        },\r\n        _buttonEvent:function(){\r\n            var that = this;\r\n            Nui.each(that._button, function(val){\r\n                that._on('click', that.element, '.layer-button-'+val.id, function(e, elem){\r\n                    if(!elem.hasClass('nui-button-disabled')){\r\n                        var id = val.id, callback = val.callback;\r\n                        var isCall = typeof callback === 'function' ? callback.call(that, that._main, that.__id, elem) : null;\r\n                        if((id === 'confirm' && isCall === true) || (id !== 'confirm' && isCall !== false)){\r\n                            that.destroy()\r\n                        }\r\n                    }\r\n                })\r\n            })\r\n        },\r\n        _bindTop:function(){\r\n            var that = this;\r\n            that._on('click', that.element, function(){\r\n                that._setzIndex();\r\n            });\r\n        },\r\n        _bindMove:function(){\r\n            var that = this, opts = that.options, element = that.element;\r\n            var self = that.constructor, elem = element, isMove = false, x, y, _x, _y;\r\n            that._on('mousedown', that._head, function(e, ele){\r\n                isMove = true;\r\n                that._setzIndex();\r\n                if(opts.isMoveMask === true){\r\n                    elem = that._moveMask = $(that._tpl2html('movemask', {\r\n                        skin:opts.skin,\r\n                        style:{\r\n                            'z-index':that._zIndex+1,\r\n                            'cursor':'move',\r\n                            'position':that._isFixed ? 'fixed' : 'absolute'\r\n                        }\r\n                    })).appendTo(that._container);\r\n                    elem.css({\r\n                        width:that._temp.width - self._getSize(elem, 'lr', 'all'),\r\n                        height:that._temp.height - self._getSize(elem, 'tb', 'all'),\r\n                        top:that._data.top,\r\n                        left:that._data.left\r\n                    });\r\n                }\r\n                ele.css('cursor','move');\r\n                x = e.pageX - that._data.left;\r\n                y = e.pageY - that._data.top;\r\n                e.stopPropagation();\r\n            });\r\n            that._on('mousemove', Nui.doc, function(e){\r\n                var width = that._container.outerWidth(), height = that._container.outerHeight();\r\n                if(isMove){\r\n                    _x = e.pageX - x;\r\n                    _y = e.pageY - y;\r\n                    _x < 0 && (_x = 0);\r\n                    _y < 0 && (_y = 0);\r\n                    if(opts.isInnerMove === true){\r\n                        _x + that._temp.width > width && (_x = width - that._temp.width);\r\n                        _y + that._temp.height > height && (_y = height - that._temp.height);\r\n                    }\r\n                    that._data.top = _y;\r\n                    that._data.left = _x;\r\n                    elem.css({top:_y, left:_x});\r\n                    return !isMove;\r\n                }\r\n            });\r\n            that._on('mouseup', Nui.doc, function(e){\r\n                if(isMove){\r\n                    isMove = false;\r\n                    that._head.css('cursor','default');\r\n                    if(opts.isMoveMask === true){\r\n                        element.css(that._data);\r\n                        that._moveMask.remove();\r\n                        that._moveMask = null;\r\n                    }\r\n                    if(typeof opts.onMove === 'function'){\r\n                        opts.onMove.call(that, that._main, that.__id)\r\n                    }\r\n                    that._temp.top = that._data.top - that._window.scrollTop();\r\n                    that._temp.left = that._data.left - that._window.scrollLeft();\r\n                }\r\n            });\r\n        },\r\n        _bindScroll:function(){\r\n            var that = this, opts = that.options;\r\n            that._on('scroll', that._window, function(){\r\n                var top = that._temp.top + that._window.scrollTop();\r\n                var left = that._temp.left + that._window.scrollLeft();\r\n                that._data.top = top;\r\n                that._data.left = left;\r\n                that.element.css(that._data);\r\n                if(typeof opts.onScroll === 'function'){\r\n                    opts.onScroll.call(that, that._main, that.__id)\r\n                }\r\n            })\r\n        },\r\n        //鼠标点击弹出层将弹出层层级设置最大\r\n        _setzIndex:function(){\r\n            var that = this, self = that.constructor;\r\n            if(that._isTop){\r\n                that._isTop = false;\r\n                that._zIndex = ++self._zIndex;\r\n                that.element.css('zIndex', that._zIndex);\r\n                that._setTop();\r\n            }\r\n        },\r\n        _setLower:function(destroy){\r\n            var that = this, self = that.constructor, opts = that.options, lowers = [];\r\n            if(opts.under){\r\n                if(Nui.type(opts.under, 'Object')){\r\n                    unders.push(opts.under)\r\n                }\r\n                else if(Nui.isArray(opts.under)){\r\n                    unders = opts.under\r\n                }\r\n                if(unders.length){\r\n                    Nui.each(unders, function(obj, k){\r\n                        if(obj && obj.element){\r\n                            obj.element.css('z-index', destroy ? obj._zIndex : self._maskzIndex-1)\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        },\r\n        _setTop:function(){\r\n            var that = this, self = that.constructor;\r\n            Nui.each(self.__instances, function(val){\r\n                if(val && val !== that && val.options.isTop === true){\r\n                    val._isTop = true;\r\n                }\r\n            });\r\n        },\r\n        _resize:function(type){\r\n            var that = this, self = that.constructor, opts = that.options, element = that.element;\r\n            var wWidth = that._window.outerWidth();\r\n            var wHeight = that._window.outerHeight();\r\n            var stop = 0;\r\n            var sleft = 0;\r\n            if(!that._isFixed){\r\n                sleft = that._window.scrollLeft();\r\n                stop = that._window.scrollTop();\r\n            }\r\n            that._setSize();\r\n            if(opts.position){\r\n                var pos = opts.position;\r\n                that._position = {\r\n                    top:pos.top,\r\n                    right:pos.right,\r\n                    bottom:pos.bottom,\r\n                    left:pos.left\r\n                }\r\n                var _pos = element.css(that._position).position();\r\n                if(Nui.bsie6){\r\n                    sleft = 0;\r\n                    stop = 0;\r\n                }\r\n                that._data.left = _pos.left + sleft;\r\n                that._data.top = _pos.top + stop;\r\n            }\r\n            else{\r\n                if(type === 'init' || opts.isCenter === true){\r\n                    var left = (wWidth - that._temp.width) / 2 + sleft;\r\n                    var top = (wHeight - that._temp.height) / 2 + stop;\r\n                    var edge = opts.edge > 0 ? opts.edge : 0;\r\n                    that._data.left = left > 0 ? left : edge;\r\n                    that._data.top = top > 0 ? top : edge;\r\n                }\r\n            }\r\n            that._temp.top = that._data.top - that._window.scrollTop();\r\n            that._temp.left = that._data.left - that._window.scrollLeft();\r\n            element.css(that._data);\r\n        },\r\n        _setSize:function(){\r\n            var that = this, self = that.constructor, opts = that.options, element = that.element;\r\n            var edge = opts.edge > 0 ? opts.edge*2 : 0;\r\n            var wWidth = that._window.outerWidth() - edge;\r\n            var wHeight = that._window.outerHeight() - edge;\r\n            /*\r\n            top:弹窗距离顶部距离\r\n            left:弹窗距离左边距离\r\n            width:弹窗不包含边框内变局宽度\r\n            heigth:弹窗不包含边框内变局高度\r\n            */\r\n            that._data = {};\r\n\r\n            that._body.css({height:'auto', overflow:'visible'});\r\n            element.css({top:'auto', left:'auto', width:'auto', height:'auto'});\r\n            var edgeSize = self._getSize(that._box, 'tb', 'all') +\r\n                that._head.outerHeight() + \r\n                self._getSize(that._head, 'tb', 'margin') + \r\n                self._getSize(that._body, 'tb', 'all') + \r\n                that._foot.outerHeight() + \r\n                self._getSize(that._foot, 'tb', 'margin');\r\n            \r\n            var width = element.outerWidth();\r\n            if(opts.isFull !== true){\r\n                width = opts.width > 0 ? opts.width : width;\r\n                if(opts.maxWidth > 0 && width >= opts.maxWidth){\r\n                    width = opts.maxWidth\r\n                }\r\n                if(opts.scrollbar === true && width > wWidth){\r\n                    width = wWidth\r\n                }\r\n            }\r\n            else{\r\n                width = wWidth;\r\n            }\r\n\r\n            that._data.width = width - self._getSize(element, 'lr', 'all');\r\n            element.css(that._data);\r\n\r\n            var height = element.outerHeight();\r\n            if(that._iframeDocument){\r\n                that._iframeDocument[0].layer = that;\r\n                height = edgeSize + that._iframeDocument.find('body').outerHeight();\r\n            }\r\n\r\n            if(opts.isFull !== true){\r\n                height = opts.height > 0 ? opts.height : height;\r\n                if(opts.maxHeight > 0 && height >= opts.maxHeight){\r\n                    height = opts.maxHeight\r\n                }\r\n                if(opts.scrollbar === true || that._iframeDocument){\r\n                    if(height > wHeight){\r\n                        height = wHeight\r\n                    }\r\n                }\r\n            }\r\n            else{\r\n                height = wHeight\r\n            }\r\n\r\n            that._temp.width = width;\r\n            that._temp.height = height;\r\n            that._data.height = height - self._getSize(element, 'tb', 'all');\r\n            element.css(that._data);\r\n            var _height = that._data.height - edgeSize;\r\n            if(that._main.outerHeight() > _height && !that._iframe && opts.scrollbar === true){\r\n                that._body.css('overflow', 'auto')\r\n            }\r\n            if(that._iframe){\r\n                that._iframe.height(_height);\r\n            }\r\n            that._body.height(_height)\r\n        },\r\n        _showMask:function(){\r\n            var that = this, self = that.constructor, opts = that.options;\r\n            if(!that._containerDOM.__layermask__){\r\n                that._containerDOM.__layermask__ = $(that._tpl2html('mask', {\r\n                    skin:opts.skin,\r\n                    style:{\r\n                        'z-index':self._maskzIndex,\r\n                        'position':that._isFixed ? 'fixed' : 'absolute',\r\n                        'top':'0px',\r\n                        'left':'0px',\r\n                        'width':'100%',\r\n                        'height':that._isFixed ? '100%' : that._container.outerHeight()+'px'\r\n                    }\r\n                })).appendTo(that._container);\r\n            }\r\n            if(opts.isClickMask === true){\r\n                that._on('click', that._containerDOM.__layermask__, function(){\r\n                    that.hide()\r\n                })\r\n            }\r\n        },\r\n        _show:function(){\r\n            var that = this, opts = that.options;\r\n            component('init', that._main);\r\n            that._resize('init');\r\n            that._setLower();\r\n            if(opts.isMask === true){\r\n                that._showMask()\r\n            }\r\n            if(opts.timer > 0){\r\n                that._timer = setTimeout(function(){\r\n                    that.hide();\r\n                }, opts.timer);\r\n            }\r\n            if(typeof opts.onInit === 'function'){\r\n                opts.onInit.call(this, that._main, that.__id)\r\n            }\r\n            return that\r\n        },\r\n        _reset:function(){\r\n            var that = this, self = that.constructor, noMask = true;\r\n            component.exports._reset.call(this);\r\n            component('destroy', that._main);\r\n            Nui.each(self.__instances, function(val){\r\n                if(val && val.options.isMask === true && val !== that && val._containerDOM === that._containerDOM){\r\n                    return (noMask = false);\r\n                }   \r\n            });\r\n            if(noMask && that._containerDOM.__layermask__){\r\n                that._containerDOM.__layermask__.remove();\r\n                that._containerDOM.__layermask__  = null;\r\n            }\r\n            if(that.options.timer > 0){\r\n                clearTimeout(that._timer);\r\n            }\r\n        },\r\n        resize:function(){\r\n            var that = this, opts = that.options, element = that.element;\r\n            that._resize();\r\n            if(typeof opts.onResize === 'function'){\r\n                opts.onResize.call(this, that._main, that.__id)\r\n            }\r\n            return that\r\n        },\r\n        hide:function(){\r\n            if(this.options.isHide === true){\r\n                this.destroy()\r\n            }\r\n        },\r\n        destroy:function(){\r\n            var that = this, self = that.constructor, opts = that.options;\r\n            that._delete();\r\n            that._reset();\r\n            that._setLower(true);\r\n            self._zIndex--;\r\n            if(typeof opts.onDestroy === 'function'){\r\n                opts.onDestroy.call(this, that._main, that.__id)\r\n            }\r\n        }\r\n    })\r\n});\n/**\r\n * @author Aniu[2016-11-10 22:39]\r\n * @update Aniu[2016-11-10 22:39]\r\n * @version 1.0.1\r\n * @description layer扩展\r\n */\r\n\r\nNui.define('{cpns}/layer/layerExt',['src/components/layer/layer'], function(layer){\r\n\r\n    layer.alert = function(content, title, width, height){\r\n        return layer({\r\n            content:'<div style=\"padding:10px; line-height:20px;\">'+(content||'')+'</div>',\r\n            width:width,\r\n            height:height,\r\n            cancel:{\r\n                text:'关 闭'\r\n            }\r\n        })\r\n    }\r\n\r\n    layer.confirm = function(content, callback, title, width, height){\r\n        return layer({\r\n            content:'<div style=\"padding:10px; line-height:20px;\">'+(content||'')+'</div>',\r\n            width:width,\r\n            height:height,\r\n            align:'right',\r\n            confirm:{\r\n                enable:true,\r\n                callback:callback||function(){\r\n                    return true\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    layer.iframe = function(src, title, width, height){\r\n        return layer({\r\n            iframe:{\r\n                enable:true,\r\n                src:src\r\n            },\r\n            width:width,\r\n            height:height,\r\n            cancel:{\r\n                text:'关闭'\r\n            }\r\n        })\r\n    }\r\n\r\n    layer.tip = function(content, dir, position, width, height){\r\n        return layer({\r\n            content:content,\r\n            id:'tip',\r\n            width:'auto',\r\n            height:'auto',\r\n            maxWidth:width,\r\n            maxHeight:height,\r\n            isTip:true,\r\n            isClose:false,\r\n            position:position,\r\n            bubble:{\r\n                enable:true,\r\n                dir:dir||'top'\r\n            }\r\n        })\r\n    }\r\n\r\n    layer.loading = function(content, width, height){\r\n        return layer({\r\n            content:'<div style=\"white-space:nowrap;\">'+(content||'正在加载数据...')+'</div>',\r\n            id:'loading',\r\n            width:'auto',\r\n            height:'auto',\r\n            maxWidth:width,\r\n            maxHeight:height,\r\n            isTip:true,\r\n            isFull:false\r\n        })\r\n    }\r\n\r\n    layer.message = function(){\r\n\r\n    }\r\n\r\n    layer.form = function(){\r\n\r\n    }\r\n\r\n    return layer\r\n})\r\n\nNui.define('./script/demo',function(require,imports,renders,extend){\n\tvar module=this;\n\tvar layer = require('{cpns}/layer/layerExt');\r\n\tvar placeholder = require('{cpns}/placeholder');\r\n\t\r\n\t\r\n\t\r\n\t$('#btn').click(function(){\r\n\t    layer.loading('')\r\n\t    // layer({\r\n\t    //     content:'<input type=\"text\" data-placeholder-options=\"{animate:true}\" placeholder=\"默认文本\"><a>aaa</a>',\r\n\t    //     width:500,\r\n\t    //     maxWidth:400,\r\n\t    //     id:'aaa',\r\n\t    //     skin:'aaa',\r\n\t    //     title:'',\r\n\t    //    isFull:true,\r\n\t    //     //maxWidth:100,\r\n\t    //     isFixed:false,\r\n\t    //     close:{\r\n\t    //         //enable:false\r\n\t    //     },\r\n\t    //     cancel:{\r\n\t    //         //enable:false\r\n\t    //     },\r\n\t    //     isCenter:true,\r\n\t    //     isMask:true,\r\n\t    //     isClickMask:true,\r\n\t    //     //maxHeight:300,\r\n\t    //     //edge:10,\r\n\t    //     //container:'#box',\r\n\t    //     isTop:true,\r\n\t    //     //isMove:false,\r\n\t    //     isMoveMask:true,\r\n\t    //     isInnerMove:true,\r\n\t    //     isHide:false,\r\n\t    //     timer:1000,\r\n\t    //     button:[{\r\n\t    //         id:'aaaaa',\r\n\t    //         text:'111'\r\n\t    //     }],\r\n\t    //     /*bubble:{\r\n\t    //         enable:true\r\n\t    //     },*/\r\n\t    //     iframe:{\r\n\t    //         enable:true,\r\n\t    //         src:'http://127.0.0.1/project/haoju/haoju2014/'\r\n\t    //     },\r\n\t    //     /*position:{\r\n\t    //         top:'40%',\r\n\t    //         left:100\r\n\t    //     },*/\r\n\t    //     scrollbar:true,\r\n\t    //     onInit:function(main){ \r\n\t    //         var lay = this;\r\n\t    //         main.on('click', 'a', function(){\r\n\t    //             main.append('<p>aaaa</p><p>aaaa</p><p>aaaa</p><p>aaaa</p><p>aaaa</p><p>aaaa</p><p>aaaa</p>');\r\n\t    //             lay.resize()\r\n\t    //             /*layer({\r\n\t    //                 lower:lay,\r\n\t    //                 width:100\r\n\t    //             })*/\r\n\t    //            // lay.hide()\r\n\t    //         })\r\n\t    //     }\r\n\t    // })\r\n\t})\r\n\t\r\n\t$('#reset').click(function(){\r\n\t    layer('reset')\r\n\t})\r\n\t\r\n\t//a.destroy()\n});\n"]}