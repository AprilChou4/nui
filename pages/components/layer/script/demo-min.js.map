{"version":3,"sources":["demo-debug.js"],"names":["Nui","define","util","component","support","supportHtml5","this","extend","options","text","animate","equal","color","_template","list","wrap","elem","_init","_exec","that","target","_getTarget","deftext","attr","trim","undefined","val","_create","opts","self","constructor","removeAttr","data","_tplData","style","position","display","width","outerWidth","overflow","cursor","_tpl2html","element","$","height","outerHeight","isText","is","left","_getSize","top","line-height","insertAfter","_events","_setStyle","className","__id","addClass","_createStyle","_createRules","document","createElement","head","appendChild","sheet","id","deleteRule","e","each","v","selector","rules","addRule","insertRule","pleft","_on","focus","stop","opacity","value","hide","show","_reset","_off","remove","unwrap","removeClass","arguments","length","statics","_maskzIndex","_zIndex","win","on","__instances","isCenter","setTimeout","resize","$fn","$ready","init","content","maxWidth","maxHeight","timer","edge","container","title","isMove","isMask","isInnerMove","isClickMask","isMoveMask","isHide","isFull","isTop","isTip","isFixed","scrollbar","align","bubble","enable","dir","iframe","cache","src","close","confirm","name","callback","cancel","under","button","onMove","onResize","onScroll","static","layout","mask","movemask","_temp","_container","_jquery","_containerDOM","get","tagName","_window","_isWindow","pos","css","_isFixed","bsie6","buttons","isTitle","_createButton","_getContent","z-index","_setTop","appendTo","_box","children","_head","_body","_main","_foot","_iframe","_iframeOnload","_bindMove","_button","_buttonEvent","_bindTop","_bindScroll","_show","_createIframe","jQuery","prop","setParam","Date","getTime","frameborder","scroll","load","_iframeDocument","contents","_resize","defaults","caches","btn","push","unshift","slice","hasClass","isCall","call","destroy","_setzIndex","x","y","_x","_y","ele","_moveMask","skin","_data","pageX","pageY","stopPropagation","doc","scrollTop","scrollLeft","_isTop","_setLower","type","unders","isArray","obj","k","wWidth","wHeight","sleft","_setSize","_position","right","bottom","_pos","edgeSize","layer","find","_height","_showMask","__layermask__","_timer","onInit","noMask","exports","clearTimeout","_delete","onDestroy","alert","tip","isClose","loading","message","form","require","imports","renders","click"],"mappings":"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","file":"demo-min.js","sourcesContent":["/**\r\n * @author Aniu[2016-11-10 22:39]\r\n * @update Aniu[2016-11-10 22:39]\r\n * @version 1.0.1\r\n * @description 输入框占位符\r\n */\r\n\r\nNui.define('{cpns}/placeholder',['util', 'component'], function(util, component){\r\n    var support = util.supportHtml5('placeholder', 'input');\r\n    return this.extend(component, {\r\n        options:{\r\n            /**\r\n             * @func 输入框占位提示文本，若元素上含有placeholder属性将会覆盖该值\r\n             * @type <String>\r\n             */\r\n            text:'',\r\n            /**\r\n             * @func 是否启用动画显示展示\r\n             * @type <Boolean>\r\n             */\r\n            animate:false,\r\n            /**\r\n             * @func 输入框值是否可以和占位符相同\r\n             * @type <Boolean>\r\n             */\r\n            equal:false,\r\n            /**\r\n             * @func 占位符文本颜色\r\n             * @type <String>\r\n             */\r\n            color:'#ccc'\r\n        },\r\n        _template:{\r\n            list:'<%each style%><%$index%>:<%$value%>;<%/each%>',\r\n            wrap:'<strong class=\"<% className %>\" style=\"<%include \\'list\\'%>\" />',\r\n            elem:'<b style=\"<%include \\'list\\'%>\"><%text%></b>'\r\n        },\r\n        _init:function(){\r\n            this._exec();\r\n        },\r\n        _exec:function(){\r\n            var that = this, target = that._getTarget();\r\n            if(target){\r\n                var text = that.deftext = target.attr('placeholder');\r\n                if(!that.deftext && that.options.text){\r\n                    target.attr('placeholder', text = that.options.text)\r\n                }\r\n                that.text = Nui.trim(text);\r\n                if(that.val === undefined){\r\n                    that.val = Nui.trim(target.val());\r\n                }\r\n                if(that.text){\r\n                    that._create()\r\n                }\r\n            }\r\n        },\r\n        _create:function(){\r\n            var that = this, opts = that.options, self = that.constructor;\r\n            if(opts.animate || (!opts.animate && !support)){\r\n                if(opts.animate){\r\n                    that.target.removeAttr('placeholder')\r\n                }\r\n                var data = that._tplData();\r\n                data.style = {\r\n                    'position':'relative',\r\n                    'display':'inline-block',\r\n                    'width':that.target.outerWidth()+'px',\r\n                    'overflow':'hidden',\r\n                    'cursor':'text'\r\n                }\r\n                that.target.wrap(that._tpl2html('wrap', data))\r\n                that.element = $(that._tpl2html('elem', {\r\n                        text:that.text,\r\n                        style:(function(){\r\n                            var height = that.target.outerHeight();\r\n                            var isText = that.target.is('textarea');\r\n                            return ({\r\n                                'display':Nui.trim(that.target.val()) ? 'none' : 'inline',\r\n                                'position':'absolute',\r\n                                'left':self._getSize(that.target, 'l', 'padding')+self._getSize(that.target, 'l')+'px',\r\n                                'top':self._getSize(that.target, 't', 'padding')+self._getSize(that.target, 't')+'px',\r\n                                'height':isText ? 'auto' : height+'px',\r\n                                'line-height':isText ? 'normal' : height+'px',\r\n                                'color':opts.color\r\n                            })\r\n                        })()\r\n                    })).insertAfter(that.target)\r\n\r\n                that._events()\r\n            }\r\n            else{\r\n                that._setStyle()\r\n            }\r\n        },\r\n        _setStyle:function(){\r\n            var that = this, opts = that.options;\r\n            that.className = '_placeholder-'+that.__id;\r\n            that.target.addClass(that.className);\r\n            if(!that.constructor.style){\r\n                that._createStyle()\r\n            }\r\n            that._createRules()\r\n        },\r\n        _createStyle:function(){\r\n            var that = this;\r\n            var style = document.createElement('style');\r\n            document.head.appendChild(style);\r\n            that.constructor.style = style.sheet\r\n        },\r\n        _createRules:function(){\r\n            var that = this;\r\n            var sheet = that.constructor.style;\r\n            var id = that.__id;\r\n            try{\r\n                sheet.deleteRule(id)\r\n            }\r\n            catch(e){}\r\n            Nui.each(['::-webkit-input-placeholder', ':-ms-input-placeholder', '::-moz-placeholder'], function(v){\r\n                var selector = '.'+that.className+v;\r\n                var rules = 'opacity:1; color:'+(that.options.color||'');\r\n                try{\r\n                    if('addRule' in sheet){\r\n                        sheet.addRule(selector, rules, id)\r\n                    }\r\n                    else if('insertRule' in sheet){\r\n                        sheet.insertRule(selector + '{' + rules + '}', id)\r\n                    }\r\n                }\r\n                catch(e){}\r\n            })\r\n        },\r\n        _events:function(){\r\n            var that = this, opts = that.options, self = that.constructor;\r\n            var pleft = self._getSize(that.target, 'l', 'padding') + self._getSize(that.target, 'l');\r\n            that._on('click', that.element, function(){\r\n                that.target.focus()\r\n            })\r\n\r\n            that._on('focus', that.target, function(){\r\n                opts.animate && that.element.stop(true, false).animate({left:pleft+10, opacity:'0.5'});\r\n            })\r\n\r\n            that._on('blur change', that.target, function(e, elem){\r\n                that.value();\r\n            })\r\n\r\n            that._on('keyup keydown', that.target, function(e, elem){\r\n                Nui.trim(elem.val()) ? that.element.hide() : that.element.show()\r\n            })\r\n        },\r\n        _reset:function(){\r\n            var that = this;\r\n            that._off();\r\n            if(that.element){\r\n                that.element.remove();\r\n                that.target.unwrap();\r\n            }\r\n            that.target.val(that.val).removeClass(that.className);\r\n            if(that.deftext){\r\n                that.target.attr('placeholder', that.deftext)\r\n            }\r\n            else{\r\n                that.target.removeAttr('placeholder')\r\n            }\r\n        },\r\n        value:function(val){\r\n            var self = this.constructor, target = this.target;\r\n            var pleft = self._getSize(target, 'l', 'padding') + self._getSize(target, 'l');\r\n            var v = Nui.trim(!arguments.length ? target.val() : target.val(val).val());\r\n            if((!this.options.equal && v === this.text) || !v){\r\n                target.val('');\r\n                this.element && this.element.show();\r\n                if(this.options.animate){\r\n                    this.element.stop(true, false).animate({left:pleft, opacity:'1'})\r\n                }\r\n            }\r\n            else if(this.element){\r\n                this.element.hide()\r\n            }\r\n        }\r\n    })\r\n})\r\n\n/**\r\n * @author Aniu[2016-11-10 22:39]\r\n * @update Aniu[2016-11-10 22:39]\r\n * @version 1.0.1\r\n * @description layer弹出层\r\n */\r\n\r\nNui.define('src/components/layer/layer',['component', 'util'], function(component, util){\r\n    var module = this;\r\n\r\n    var statics = {\r\n        _maskzIndex:10000,\r\n        _zIndex:10000,\r\n        _init:function(){\r\n            var self = this;\r\n            Nui.win.on('resize', function(){\r\n                Nui.each(self.__instances, function(val){\r\n                    var opts = val.options;\r\n                    if(opts.position || opts.isCenter === true){\r\n                        setTimeout(function(){\r\n                            val.resize();\r\n                        })\r\n                    }\r\n                })\r\n            })\r\n        },\r\n        $fn:null,\r\n        $ready:null,\r\n        init:null\r\n    }\r\n\r\n    var options = {\r\n        content:'',\r\n        width:320,\r\n        height:'auto',\r\n        maxWidth:0,\r\n        maxHeight:0,\r\n        timer:0,\r\n        edge:0,\r\n        container:'body',\r\n        title:'温馨提示',\r\n        isMove:false,\r\n        isMask:true,\r\n        isInnerMove:false,\r\n        isClickMask:false,\r\n        isMoveMask:false,\r\n        isHide:true,\r\n        isCenter:false,\r\n        isFull:false,\r\n        isTop:false,\r\n        isTip:false,\r\n        isFixed:true,\r\n        scrollbar:true,\r\n        align:'center',\r\n        bubble:{\r\n            enable:false,\r\n            dir:'top'\r\n        },\r\n        iframe:{\r\n            enable:false,\r\n            cache:false,\r\n            src:''\r\n        },\r\n        close:{\r\n            enable:true,\r\n            text:'×'\r\n        },\r\n        confirm:{\r\n            enable:false,\r\n            name:'normal',\r\n            text:'确定',\r\n            callback:function(){\r\n                return true\r\n            }\r\n        },\r\n        cancel:{\r\n            enable:true,\r\n            text:'取消'\r\n        },\r\n        position:null,\r\n        under:null,\r\n        button:null,\r\n        onMove:null,\r\n        onResize:null,\r\n        onScroll:null\r\n    }\r\n\r\n    return this.extend(component, {\r\n        static:statics,\r\n        options:options,\r\n        _template:{\r\n            layout:\r\n                '<div class=\"<% className %>\" style=\"<% include \\'style\\' %>\">'+\r\n                    '<div class=\"layer-box\">'+\r\n                        '<%if close%>'+\r\n                            '<% var btn = close %>'+\r\n                            '<% include \"button\" %>'+\r\n                        '<%/if%>'+\r\n                        '<%if bubble%>'+\r\n                        '<span class=\"layer-bubble layer-bubble-<%bubble%>\"><b></b><i></i></span>'+\r\n                        '<%/if%>'+\r\n                        '<%if title%>'+\r\n                        '<div class=\"layer-head\">'+\r\n                            '<span class=\"layer-title\"><%title%></span>'+\r\n                        '</div>'+\r\n                        '<%/if%>'+\r\n                        '<div class=\"layer-body\">'+\r\n                            '<div class=\"layer-main\">'+\r\n                            '<%content%>'+\r\n                            '</div>'+\r\n                        '</div>'+\r\n                        '<%if button && button.length%>'+\r\n                        '<div class=\"layer-foot\" style=\"text-align:<%align%>\">'+\r\n                        '<%each button btn%>'+\r\n                            '<%include \"button\"%>'+\r\n                        '<%/each%>'+\r\n                        '</div>'+\r\n                        '<%/if%>'+\r\n                    '</div>'+\r\n                '</div>',\r\n            button:\r\n                '<button class=\"ui-button'+\r\n                    '<%if btn.name%>'+\r\n                    '<%each [].concat(btn.name) name%> ui-button-<%name%><%/each%>'+\r\n                    '<%/if%>'+\r\n                    ' layer-button-<%btn.id%>\"><%btn.text || \"按钮\"%></button>',\r\n            iframe:\r\n                '<iframe<%each attr%> <%$index%>=\"<%$value%>\"<%/each%>></iframe>',\r\n            mask:\r\n                '<div class=\"nui-layer-mask'+\r\n                    '<%if skin%> nui-layer-mask-<%skin%><%/if%>\" style=\"<%include \\'style\\'%>\">'+\r\n                    '<div class=\"layer-mask\"></div>'+\r\n                '</div>',\r\n            movemask:\r\n                '<div class=\"nui-layer-movemask'+\r\n                    '<%if skin%> nui-layer-movemask-<%skin%><%/if%>\" style=\"<%include \\'style\\'%>\">'+\r\n                '</div>',\r\n            style:\r\n                '<%each style%><%$index%>: <%$value%>; <%/each%>'\r\n        },\r\n        /*\r\n        top:弹窗距离窗口顶部距离\r\n        left:弹窗距离窗口左边距离\r\n        width:弹窗宽度\r\n        height:弹窗高度\r\n        */\r\n        _temp:{},\r\n        _init:function(){\r\n            this._zIndex = ++this.constructor._zIndex;\r\n            this._exec()\r\n        },\r\n        _exec:function(){\r\n            var that = this, opts = that.options, self = that.constructor;\r\n            that._container = self._jquery(opts.container);\r\n            if(that._container.length){\r\n                that._containerDOM = that._container.get(0);\r\n                if(that._containerDOM.tagName !== 'BODY'){\r\n                    that._window = that._container;\r\n                    that._isWindow = false;\r\n                    var pos = that._container.css('position');\r\n                    if(pos !== 'absolute' && pos !== 'relative'){\r\n                        that._container.css('position', 'relative')\r\n                    }\r\n                }\r\n                else{\r\n                    that._window = Nui.win;\r\n                    that._isWindow = true;\r\n                }\r\n                that._isFixed = opts.isFixed && !Nui.bsie6 && that._isWindow;\r\n                that._create();\r\n            }\r\n        },\r\n        _create:function(){\r\n            var that = this, opts = that.options;\r\n            var buttons = {}, isTitle = false;\r\n            if(opts.isTip !== true){\r\n                buttons = that._createButton();\r\n                isTitle = typeof opts.title === 'string';\r\n            }\r\n            var data = that._tplData({\r\n                content:that._getContent(),\r\n                close:buttons.close,\r\n                button:buttons.button,\r\n                title:isTitle ? (opts.title||'温馨提示') : null,\r\n                bubble:opts.bubble.enable === true ? opts.bubble.dir : null,\r\n                align:opts.align || 'center',\r\n                style:{\r\n                    'z-index':that._zIndex,\r\n                    'position':'absolute',\r\n                    'display':'block'\r\n                }\r\n            });\r\n            if(that._isFixed){\r\n                data.style.position = 'fixed';\r\n            }\r\n            that._setTop();\r\n            that.element = $(that._tpl2html('layout', data)).appendTo(that._container);\r\n            that._box = that.element.children('.layer-box');\r\n\t\t\tthat._head = that._box.children('.layer-head');\r\n\t\t\tthat._body = that._box.children('.layer-body');\r\n\t\t\tthat._main = that._body.children('.layer-main');\r\n\t\t\tthat._foot = that._box.children('.layer-foot');\r\n            if(opts.isTip !== true){\r\n                if(opts.iframe.enable === true){\r\n                    that._iframe = that._main.children('iframe');\r\n                    that._iframeOnload()\r\n                }\r\n                if(opts.isMove === true && isTitle){\r\n                    that._bindMove();\r\n                }\r\n                if(that._button.length){\r\n                    that._buttonEvent();\r\n                }\r\n                if(opts.isTop === true){\r\n                    that._bindTop();\r\n                }\r\n            }\r\n            if(opts.isFixed === true && !that._isFixed === true){\r\n                that._bindScroll()\r\n            }\r\n            that._show()\r\n        },\r\n        _getContent:function(){\r\n            var that = this, opts = that.options, content = '';\r\n            if(opts.isTip !== true && opts.iframe.enable === true){\r\n                content = that._createIframe();\r\n            }\r\n            else{\r\n                if(typeof opts.content === 'string'){\r\n                    content = opts.content\r\n                }\r\n                else if(opts.content instanceof jQuery){\r\n                    content = opts.content.prop('outerHTML')\r\n                }\r\n            }\r\n            return content\r\n        },\r\n        _createIframe:function(){\r\n            var that = this, opts = that.options, name = 'layer-iframe'+that.__id, src = opts.iframe.src;\r\n            if(options.iframe.cache === false){\r\n                src = util.setParam('_', new Date().getTime(), src)\r\n            }\r\n            return that._tpl2html('iframe', {\r\n                attr:{\r\n                    frameborder:'0',\r\n                    name:name,\r\n                    id:name,\r\n                    src:src,\r\n                    scroll:'hidden',\r\n                    style:'width:100%;'\r\n                }\r\n            })\r\n        },\r\n        _iframeOnload:function(){\r\n            var that = this;\r\n            that._iframe.load(function(){\r\n                that._iframeDocument = that._iframe.contents();\r\n                that._resize()\r\n            })\r\n        },\r\n        _createButton:function(){\r\n            var that = this, opts = that.options, defaults = {}, buttons = {}, caches = {};\r\n            that._button = [];\r\n            Nui.each(['confirm', 'cancel'], function(id){\r\n                var btn = opts[id];\r\n                if(btn && btn.enable === true){\r\n                    defaults[id] = {\r\n                        id:id,\r\n                        name:btn.name,\r\n                        text:btn.text,\r\n                        callback:btn.callback\r\n                    }\r\n                }\r\n            });\r\n            if(opts.button && opts.button.length){\r\n                Nui.each(opts.button, function(val){\r\n                    var id = val.id;\r\n                    if(!caches[id]){\r\n                        caches[id] = true;\r\n                        if(defaults[id]){\r\n                            if(!val.text){\r\n                                if(id === 'cancel'){\r\n                                    val.text = '取消'\r\n                                }\r\n                                else if(id === 'confirm'){\r\n                                    val.text = '确定'\r\n                                }\r\n                            }\r\n                            delete defaults[id]\r\n                        }\r\n                        that._button[id === 'close' ? 'unshift' : 'push'](val)\r\n                    }\r\n                })\r\n            }\r\n            Nui.each(defaults, function(val){\r\n                that._button.push(val)\r\n            });\r\n            if(!caches.close && opts.close && opts.close.enable === true){\r\n                that._button.unshift({\r\n                    id:'close',\r\n                    name:opts.close.name,\r\n                    text:opts.close.text,\r\n                    callback:opts.close.callback\r\n                })\r\n            }\r\n            if(that._button[0] && that._button[0].id === 'close'){\r\n                buttons.close = that._button[0],\r\n                buttons.button = that._button.slice(1);\r\n            }\r\n            else{\r\n                buttons.button = that._button\r\n            }\r\n            return buttons\r\n        },\r\n        _buttonEvent:function(){\r\n            var that = this;\r\n            Nui.each(that._button, function(val){\r\n                that._on('click', that.element, '.layer-button-'+val.id, function(e, elem){\r\n                    if(!elem.hasClass('nui-button-disabled')){\r\n                        var id = val.id, callback = val.callback;\r\n                        var isCall = typeof callback === 'function' ? callback.call(that, that._main, that.__id, elem) : null;\r\n                        if((id === 'confirm' && isCall === true) || (id !== 'confirm' && isCall !== false)){\r\n                            that.destroy()\r\n                        }\r\n                    }\r\n                })\r\n            })\r\n        },\r\n        _bindTop:function(){\r\n            var that = this;\r\n            that._on('click', that.element, function(){\r\n                that._setzIndex();\r\n            });\r\n        },\r\n        _bindMove:function(){\r\n            var that = this, opts = that.options, element = that.element;\r\n            var self = that.constructor, elem = element, isMove = false, x, y, _x, _y;\r\n            that._on('mousedown', that._head, function(e, ele){\r\n                isMove = true;\r\n                that._setzIndex();\r\n                if(opts.isMoveMask === true){\r\n                    elem = that._moveMask = $(that._tpl2html('movemask', {\r\n                        skin:opts.skin,\r\n                        style:{\r\n                            'z-index':that._zIndex+1,\r\n                            'cursor':'move',\r\n                            'position':that._isFixed ? 'fixed' : 'absolute'\r\n                        }\r\n                    })).appendTo(that._container);\r\n                    elem.css({\r\n                        width:that._temp.width - self._getSize(elem, 'lr', 'all'),\r\n                        height:that._temp.height - self._getSize(elem, 'tb', 'all'),\r\n                        top:that._data.top,\r\n                        left:that._data.left\r\n                    });\r\n                }\r\n                ele.css('cursor','move');\r\n                x = e.pageX - that._data.left;\r\n                y = e.pageY - that._data.top;\r\n                e.stopPropagation();\r\n            });\r\n            that._on('mousemove', Nui.doc, function(e){\r\n                var width = that._container.outerWidth(), height = that._container.outerHeight();\r\n                if(isMove){\r\n                    _x = e.pageX - x;\r\n                    _y = e.pageY - y;\r\n                    _x < 0 && (_x = 0);\r\n                    _y < 0 && (_y = 0);\r\n                    if(opts.isInnerMove === true){\r\n                        _x + that._temp.width > width && (_x = width - that._temp.width);\r\n                        _y + that._temp.height > height && (_y = height - that._temp.height);\r\n                    }\r\n                    that._data.top = _y;\r\n                    that._data.left = _x;\r\n                    elem.css({top:_y, left:_x});\r\n                    return !isMove;\r\n                }\r\n            });\r\n            that._on('mouseup', Nui.doc, function(e){\r\n                if(isMove){\r\n                    isMove = false;\r\n                    that._head.css('cursor','default');\r\n                    if(opts.isMoveMask === true){\r\n                        element.css(that._data);\r\n                        that._moveMask.remove();\r\n                        that._moveMask = null;\r\n                    }\r\n                    if(typeof opts.onMove === 'function'){\r\n                        opts.onMove.call(that, that._main, that.__id)\r\n                    }\r\n                    that._temp.top = that._data.top - that._window.scrollTop();\r\n                    that._temp.left = that._data.left - that._window.scrollLeft();\r\n                }\r\n            });\r\n        },\r\n        _bindScroll:function(){\r\n            var that = this, opts = that.options;\r\n            that._on('scroll', that._window, function(){\r\n                var top = that._temp.top + that._window.scrollTop();\r\n                var left = that._temp.left + that._window.scrollLeft();\r\n                that._data.top = top;\r\n                that._data.left = left;\r\n                that.element.css(that._data);\r\n                if(typeof opts.onScroll === 'function'){\r\n                    opts.onScroll.call(that, that._main, that.__id)\r\n                }\r\n            })\r\n        },\r\n        //鼠标点击弹出层将弹出层层级设置最大\r\n        _setzIndex:function(){\r\n            var that = this, self = that.constructor;\r\n            if(that._isTop){\r\n                that._isTop = false;\r\n                that._zIndex = ++self._zIndex;\r\n                that.element.css('zIndex', that._zIndex);\r\n                that._setTop();\r\n            }\r\n        },\r\n        _setLower:function(destroy){\r\n            var that = this, self = that.constructor, opts = that.options, lowers = [];\r\n            if(opts.under){\r\n                if(Nui.type(opts.under, 'Object')){\r\n                    unders.push(opts.under)\r\n                }\r\n                else if(Nui.isArray(opts.under)){\r\n                    unders = opts.under\r\n                }\r\n                if(unders.length){\r\n                    Nui.each(unders, function(obj, k){\r\n                        if(obj && obj.element){\r\n                            obj.element.css('z-index', destroy ? obj._zIndex : self._maskzIndex-1)\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        },\r\n        _setTop:function(){\r\n            var that = this, self = that.constructor;\r\n            Nui.each(self.__instances, function(val){\r\n                if(val && val !== that && val.options.isTop === true){\r\n                    val._isTop = true;\r\n                }\r\n            });\r\n        },\r\n        _resize:function(type){\r\n            var that = this, self = that.constructor, opts = that.options, element = that.element;\r\n            var wWidth = that._window.outerWidth();\r\n            var wHeight = that._window.outerHeight();\r\n            var stop = 0;\r\n            var sleft = 0;\r\n            if(!that._isFixed){\r\n                sleft = that._window.scrollLeft();\r\n                stop = that._window.scrollTop();\r\n            }\r\n            that._setSize();\r\n            if(opts.position){\r\n                var pos = opts.position;\r\n                that._position = {\r\n                    top:pos.top,\r\n                    right:pos.right,\r\n                    bottom:pos.bottom,\r\n                    left:pos.left\r\n                }\r\n                var _pos = element.css(that._position).position();\r\n                if(Nui.bsie6){\r\n                    sleft = 0;\r\n                    stop = 0;\r\n                }\r\n                that._data.left = _pos.left + sleft;\r\n                that._data.top = _pos.top + stop;\r\n            }\r\n            else{\r\n                if(type === 'init' || opts.isCenter === true){\r\n                    var left = (wWidth - that._temp.width) / 2 + sleft;\r\n                    var top = (wHeight - that._temp.height) / 2 + stop;\r\n                    var edge = opts.edge > 0 ? opts.edge : 0;\r\n                    that._data.left = left > 0 ? left : edge;\r\n                    that._data.top = top > 0 ? top : edge;\r\n                }\r\n            }\r\n            that._temp.top = that._data.top - that._window.scrollTop();\r\n            that._temp.left = that._data.left - that._window.scrollLeft();\r\n            element.css(that._data);\r\n        },\r\n        _setSize:function(){\r\n            var that = this, self = that.constructor, opts = that.options, element = that.element;\r\n            var edge = opts.edge > 0 ? opts.edge*2 : 0;\r\n            var wWidth = that._window.outerWidth() - edge;\r\n            var wHeight = that._window.outerHeight() - edge;\r\n            /*\r\n            top:弹窗距离顶部距离\r\n            left:弹窗距离左边距离\r\n            width:弹窗不包含边框内变局宽度\r\n            heigth:弹窗不包含边框内变局高度\r\n            */\r\n            that._data = {};\r\n\r\n            that._body.css({height:'auto', overflow:'visible'});\r\n            element.css({top:'auto', left:'auto', width:'auto', height:'auto'});\r\n            var edgeSize = self._getSize(that._box, 'tb', 'all') +\r\n                that._head.outerHeight() + \r\n                self._getSize(that._head, 'tb', 'margin') + \r\n                self._getSize(that._body, 'tb', 'all') + \r\n                that._foot.outerHeight() + \r\n                self._getSize(that._foot, 'tb', 'margin');\r\n            \r\n            var width = element.outerWidth();\r\n            if(opts.isFull !== true){\r\n                width = opts.width > 0 ? opts.width : width;\r\n                if(opts.maxWidth > 0 && width >= opts.maxWidth){\r\n                    width = opts.maxWidth\r\n                }\r\n                if(opts.scrollbar === true && width > wWidth){\r\n                    width = wWidth\r\n                }\r\n            }\r\n            else{\r\n                width = wWidth;\r\n            }\r\n\r\n            that._data.width = width - self._getSize(element, 'lr', 'all');\r\n            element.css(that._data);\r\n\r\n            var height = element.outerHeight();\r\n            if(that._iframeDocument){\r\n                that._iframeDocument[0].layer = that;\r\n                height = edgeSize + that._iframeDocument.find('body').outerHeight();\r\n            }\r\n\r\n            if(opts.isFull !== true){\r\n                height = opts.height > 0 ? opts.height : height;\r\n                if(opts.maxHeight > 0 && height >= opts.maxHeight){\r\n                    height = opts.maxHeight\r\n                }\r\n                if(opts.scrollbar === true || that._iframeDocument){\r\n                    if(height > wHeight){\r\n                        height = wHeight\r\n                    }\r\n                }\r\n            }\r\n            else{\r\n                height = wHeight\r\n            }\r\n\r\n            that._temp.width = width;\r\n            that._temp.height = height;\r\n            that._data.height = height - self._getSize(element, 'tb', 'all');\r\n            element.css(that._data);\r\n            var _height = that._data.height - edgeSize;\r\n            if(that._main.outerHeight() > _height && !that._iframe && opts.scrollbar === true){\r\n                that._body.css('overflow', 'auto')\r\n            }\r\n            if(that._iframe){\r\n                that._iframe.height(_height);\r\n            }\r\n            that._body.height(_height)\r\n        },\r\n        _showMask:function(){\r\n            var that = this, self = that.constructor, opts = that.options;\r\n            if(!that._containerDOM.__layermask__){\r\n                that._containerDOM.__layermask__ = $(that._tpl2html('mask', {\r\n                    skin:opts.skin,\r\n                    style:{\r\n                        'z-index':self._maskzIndex,\r\n                        'position':that._isFixed ? 'fixed' : 'absolute',\r\n                        'top':'0px',\r\n                        'left':'0px',\r\n                        'width':'100%',\r\n                        'height':that._isFixed ? '100%' : that._container.outerHeight()+'px'\r\n                    }\r\n                })).appendTo(that._container);\r\n            }\r\n            if(opts.isClickMask === true){\r\n                that._on('click', that._containerDOM.__layermask__, function(){\r\n                    that.hide()\r\n                })\r\n            }\r\n        },\r\n        _show:function(){\r\n            var that = this, opts = that.options;\r\n            component('init', that._main);\r\n            that._resize('init');\r\n            that._setLower();\r\n            if(opts.isMask === true){\r\n                that._showMask()\r\n            }\r\n            if(opts.timer > 0){\r\n                that._timer = setTimeout(function(){\r\n                    that.hide();\r\n                }, opts.timer);\r\n            }\r\n            if(typeof opts.onInit === 'function'){\r\n                opts.onInit.call(this, that._main, that.__id)\r\n            }\r\n            return that\r\n        },\r\n        _reset:function(){\r\n            var that = this, self = that.constructor, noMask = true;\r\n            component.exports._reset.call(this);\r\n            component('destroy', that._main);\r\n            Nui.each(self.__instances, function(val){\r\n                if(val && val.options.isMask === true && val !== that && val._containerDOM === that._containerDOM){\r\n                    return (noMask = false);\r\n                }   \r\n            });\r\n            if(noMask && that._containerDOM.__layermask__){\r\n                that._containerDOM.__layermask__.remove();\r\n                that._containerDOM.__layermask__  = null;\r\n            }\r\n            if(that.options.timer > 0){\r\n                clearTimeout(that._timer);\r\n            }\r\n        },\r\n        resize:function(){\r\n            var that = this, opts = that.options, element = that.element;\r\n            that._resize();\r\n            if(typeof opts.onResize === 'function'){\r\n                opts.onResize.call(this, that._main, that.__id)\r\n            }\r\n            return that\r\n        },\r\n        hide:function(){\r\n            if(this.options.isHide === true){\r\n                this.destroy()\r\n            }\r\n        },\r\n        destroy:function(){\r\n            var that = this, self = that.constructor, opts = that.options;\r\n            that._delete();\r\n            that._reset();\r\n            that._setLower(true);\r\n            self._zIndex--;\r\n            if(typeof opts.onDestroy === 'function'){\r\n                opts.onDestroy.call(this, that._main, that.__id)\r\n            }\r\n        }\r\n    })\r\n});\n/**\r\n * @author Aniu[2016-11-10 22:39]\r\n * @update Aniu[2016-11-10 22:39]\r\n * @version 1.0.1\r\n * @description layer扩展\r\n */\r\n\r\nNui.define('{cpns}/layer/layerExt',['src/components/layer/layer'], function(layer){\r\n\r\n    layer.alert = function(content, title, width, height){\r\n        return layer({\r\n            content:'<div style=\"padding:10px; line-height:20px;\">'+(content||'')+'</div>',\r\n            width:width,\r\n            height:height,\r\n            cancel:{\r\n                text:'关闭'\r\n            }\r\n        })\r\n    }\r\n\r\n    layer.confirm = function(content, callback, title, width, height){\r\n        return layer({\r\n            content:'<div style=\"padding:10px; line-height:20px;\">'+(content||'')+'</div>',\r\n            width:width,\r\n            height:height,\r\n            align:'right',\r\n            confirm:{\r\n                enable:true,\r\n                callback:callback||function(){\r\n                    return true\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    layer.iframe = function(src, title, width, height){\r\n        return layer({\r\n            iframe:{\r\n                enable:true,\r\n                src:src\r\n            },\r\n            width:width,\r\n            height:height,\r\n            cancel:{\r\n                text:'关闭'\r\n            }\r\n        })\r\n    }\r\n\r\n    layer.tip = function(content, dir, position, width, height){\r\n        return layer({\r\n            content:content,\r\n            id:'tip',\r\n            width:'auto',\r\n            height:'auto',\r\n            maxWidth:width,\r\n            maxHeight:height,\r\n            isTip:true,\r\n            isClose:false,\r\n            position:position,\r\n            bubble:{\r\n                enable:true,\r\n                dir:dir||'top'\r\n            }\r\n        })\r\n    }\r\n\r\n    layer.loading = function(content, width, height){\r\n        return layer({\r\n            content:'<div style=\"white-space:nowrap;\">'+(content||'正在加载数据...')+'</div>',\r\n            id:'loading',\r\n            width:'auto',\r\n            height:'auto',\r\n            maxWidth:width,\r\n            maxHeight:height,\r\n            isTip:true,\r\n            isFull:false\r\n        })\r\n    }\r\n\r\n    layer.message = function(){\r\n\r\n    }\r\n\r\n    layer.form = function(){\r\n\r\n    }\r\n\r\n    return layer\r\n})\r\n\nNui.define('./script/demo',function(require,imports,renders,extend){\n\tvar module=this;\n\tvar layer = require('{cpns}/layer/layerExt');\r\n\tvar placeholder = require('{cpns}/placeholder');\r\n\t\r\n\t\r\n\t\r\n\t$('#btn').click(function(){\r\n\t    layer.loading('')\r\n\t    // layer({\r\n\t    //     content:'<input type=\"text\" data-placeholder-options=\"{animate:true}\" placeholder=\"默认文本\"><a>aaa</a>',\r\n\t    //     width:500,\r\n\t    //     maxWidth:400,\r\n\t    //     id:'aaa',\r\n\t    //     skin:'aaa',\r\n\t    //     title:'',\r\n\t    //    isFull:true,\r\n\t    //     //maxWidth:100,\r\n\t    //     isFixed:false,\r\n\t    //     close:{\r\n\t    //         //enable:false\r\n\t    //     },\r\n\t    //     cancel:{\r\n\t    //         //enable:false\r\n\t    //     },\r\n\t    //     isCenter:true,\r\n\t    //     isMask:true,\r\n\t    //     isClickMask:true,\r\n\t    //     //maxHeight:300,\r\n\t    //     //edge:10,\r\n\t    //     //container:'#box',\r\n\t    //     isTop:true,\r\n\t    //     //isMove:false,\r\n\t    //     isMoveMask:true,\r\n\t    //     isInnerMove:true,\r\n\t    //     isHide:false,\r\n\t    //     timer:1000,\r\n\t    //     button:[{\r\n\t    //         id:'aaaaa',\r\n\t    //         text:'111'\r\n\t    //     }],\r\n\t    //     /*bubble:{\r\n\t    //         enable:true\r\n\t    //     },*/\r\n\t    //     iframe:{\r\n\t    //         enable:true,\r\n\t    //         src:'http://127.0.0.1/project/haoju/haoju2014/'\r\n\t    //     },\r\n\t    //     /*position:{\r\n\t    //         top:'40%',\r\n\t    //         left:100\r\n\t    //     },*/\r\n\t    //     scrollbar:true,\r\n\t    //     onInit:function(main){ \r\n\t    //         var lay = this;\r\n\t    //         main.on('click', 'a', function(){\r\n\t    //             main.append('<p>aaaa</p><p>aaaa</p><p>aaaa</p><p>aaaa</p><p>aaaa</p><p>aaaa</p><p>aaaa</p>');\r\n\t    //             lay.resize()\r\n\t    //             /*layer({\r\n\t    //                 lower:lay,\r\n\t    //                 width:100\r\n\t    //             })*/\r\n\t    //            // lay.hide()\r\n\t    //         })\r\n\t    //     }\r\n\t    // })\r\n\t})\r\n\t\r\n\t$('#reset').click(function(){\r\n\t    layer('reset')\r\n\t})\r\n\t\r\n\t//a.destroy()\n});\n"]}