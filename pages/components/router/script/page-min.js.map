{"version":3,"sources":["page-debug.js"],"names":["Nui","define","ajax","$","options","url","dataType","success","noop","error","apply","this","arguments","extend","cache","statusCode","404","502","renders","tmpl","tpl","target","wrapper","request","html","render","util","component","support","supportHtml5","text","animate","equal","color","_template","list","wrap","elem","_init","_exec","that","_getTarget","deftext","attr","trim","undefined","val","_create","opts","self","constructor","removeAttr","data","_tplData","style","position","display","width","outerWidth","overflow","cursor","_tpl2html","element","height","outerHeight","isText","is","left","_getSize","top","line-height","insertAfter","_event","_setStyle","className","__id","addClass","_createStyle","_createRules","document","createElement","head","appendChild","sheet","id","deleteRule","e","each","v","selector","rules","addRule","insertRule","_events","pleft","_on","focus","stop","opacity","value","hide","show","_reset","_off","remove","unwrap","removeClass","length","static","doc","on","_active","__instances","find","_getcode","type","_getarr","match","code","array","index","indexOf","sub","substr","push","_comment","test","replace","tools","copy","isLight","isLine","isTitle","dom","get","tagName","_title","bsie7","_list","title","_getCode","split","maps","click tr","click .copy","calls","active","siblings","stopPropagation","alert","str","RegExp","js","ph","module","events","require","init","event","call","click .empty","a","destroy","setTimeout","b","c","confirm","empty","statics","_paths","_alias","_cache","_cacheContent","back","forward","_setpaths","rule","paths","_replace","hash","location","protocol","host","_setCache","_oldhash","_wrapper","_getWrapper","container","appendTo","_change","_hash","isEmptyObject","path","param","params","object","onRender","key","off","onAfter","_initialize","_setHistory","_isEntry","entry","_render","eq","_bindHashchange","hashchange","ret","setInterval","win","_$ready","_$fn","start","href","temp","_router","alias","history","_history","_isHistory","len","i","window","delegate","level","onBefore","router","_bind","_jquery","_setpath","_getpath","shift","join","trigger","name","icon","subs","menu","d","imports","click a","seturl","layout","res","exports"],"mappings":"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","file":"page-min.js","sourcesContent":["Nui.define('pages/components/router/script/ajax',function(){\r\n    var ajax = $.ajax;\r\n    return function(options){\r\n        if(typeof options === 'string'){\r\n            options = {\r\n                url:options,\r\n                dataType:'json'\r\n            }\r\n        }\r\n        var success = options.success || $.noop;\r\n        var error = options.error || $.noop;\r\n        options.success = function(){\r\n            success.apply(this, arguments)\r\n        }\r\n        options.error = function(){\r\n            error.apply(this, arguments)\r\n        }\r\n        return ajax($.extend(true, {\r\n            cache:false,\r\n            dataType:'json',\r\n            statusCode:{\r\n                '404':function(){\r\n\r\n                },\r\n                '502':function(){\r\n\r\n                }\r\n            }\r\n        }, options))\r\n    }\r\n})\nNui.define('pages/components/router/script/tpls/seeVoucher',function(){\r\n    return this.renders(''+''\r\n        +'这是查凭证页面，页面完整url是：<% url %>，路径是：<% path %>'+''\r\n        +'<% if param %>'+''\r\n        +'<br>'+''\r\n        +'参数分别是：'+''\r\n        +'<% each param %>'+''\r\n        +'<% $index %>=<% $value %>，'+''\r\n        +'<% /each %>'+''\r\n        +'<% /if %>'+''\r\n        +'<a id=\"aaa\" class=\"nui-router-back\">返回</a> '+''\r\n    +'')\r\n})\nNui.define('pages/components/router/script/modules/seeVoucher',['pages/components/router/script/tpls/seeVoucher', 'template'], function(tmpl, tpl){\r\n    var module = this;\r\n    return function(target, wrapper, request){\r\n        wrapper.html(tpl.render(tmpl, request))\r\n    }\r\n})\n/**\r\n * @author Aniu[2016-11-10 22:39]\r\n * @update Aniu[2016-11-10 22:39]\r\n * @version 1.0.1\r\n * @description 输入框占位符\r\n */\r\n\r\nNui.define('{cpns}/placeholder',['util', 'component'], function(util, component){\r\n    var support = util.supportHtml5('placeholder', 'input');\r\n    return this.extend(component, {\r\n        options:{\r\n            /**\r\n             * @func 输入框占位提示文本，若元素上含有placeholder属性将会覆盖该值\r\n             * @type <String>\r\n             */\r\n            text:'',\r\n            /**\r\n             * @func 是否启用动画显示展示\r\n             * @type <Boolean>\r\n             */\r\n            animate:false,\r\n            /**\r\n             * @func 输入框值是否可以和占位符相同\r\n             * @type <Boolean>\r\n             */\r\n            equal:false,\r\n            /**\r\n             * @func 占位符文本颜色\r\n             * @type <String>\r\n             */\r\n            color:'#ccc'\r\n        },\r\n        _template:{\r\n            list:'<%each style%><%$index%>:<%$value%>;<%/each%>',\r\n            wrap:'<strong class=\"<% className %>\" style=\"<%include \\'list\\'%>\" />',\r\n            elem:'<b style=\"<%include \\'list\\'%>\"><%text%></b>'\r\n        },\r\n        _init:function(){\r\n            this._exec();\r\n        },\r\n        _exec:function(){\r\n            var that = this, target = that._getTarget();\r\n            if(target){\r\n                var text = that.deftext = target.attr('placeholder');\r\n                if(!that.deftext && that.options.text){\r\n                    target.attr('placeholder', text = that.options.text)\r\n                }\r\n                that.text = Nui.trim(text);\r\n                if(that.val === undefined){\r\n                    that.val = Nui.trim(target.val());\r\n                }\r\n                if(that.text){\r\n                    that._create()\r\n                }\r\n            }\r\n        },\r\n        _create:function(){\r\n            var that = this, opts = that.options, self = that.constructor;\r\n            if(opts.animate || (!opts.animate && !support)){\r\n                if(opts.animate){\r\n                    that.target.removeAttr('placeholder')\r\n                }\r\n                var data = that._tplData();\r\n                data.style = {\r\n                    'position':'relative',\r\n                    'display':'inline-block',\r\n                    'width':that.target.outerWidth()+'px',\r\n                    'overflow':'hidden',\r\n                    'cursor':'text'\r\n                }\r\n                that.target.wrap(that._tpl2html('wrap', data))\r\n                that.element = $(that._tpl2html('elem', {\r\n                        text:that.text,\r\n                        style:(function(){\r\n                            var height = that.target.outerHeight();\r\n                            var isText = that.target.is('textarea');\r\n                            return ({\r\n                                'display':Nui.trim(that.target.val()) ? 'none' : 'inline',\r\n                                'position':'absolute',\r\n                                'left':self._getSize(that.target, 'l', 'padding')+self._getSize(that.target, 'l')+'px',\r\n                                'top':self._getSize(that.target, 't', 'padding')+self._getSize(that.target, 't')+'px',\r\n                                'height':isText ? 'auto' : height+'px',\r\n                                'line-height':isText ? 'normal' : height+'px',\r\n                                'color':opts.color\r\n                            })\r\n                        })()\r\n                    })).insertAfter(that.target)\r\n\r\n                that._event()\r\n            }\r\n            else{\r\n                that._setStyle()\r\n            }\r\n        },\r\n        _setStyle:function(){\r\n            var that = this, opts = that.options;\r\n            that.className = '_placeholder-'+that.__id;\r\n            that.target.addClass(that.className);\r\n            if(!that.constructor.style){\r\n                that._createStyle()\r\n            }\r\n            that._createRules()\r\n        },\r\n        _createStyle:function(){\r\n            var that = this;\r\n            var style = document.createElement('style');\r\n            document.head.appendChild(style);\r\n            that.constructor.style = style.sheet\r\n        },\r\n        _createRules:function(){\r\n            var that = this;\r\n            var sheet = that.constructor.style;\r\n            var id = that.__id;\r\n            try{\r\n                sheet.deleteRule(id)\r\n            }\r\n            catch(e){}\r\n            Nui.each(['::-webkit-input-placeholder', ':-ms-input-placeholder', '::-moz-placeholder'], function(v){\r\n                var selector = '.'+that.className+v;\r\n                var rules = 'opacity:1; color:'+(that.options.color||'');\r\n                try{\r\n                    if('addRule' in sheet){\r\n                        sheet.addRule(selector, rules, id)\r\n                    }\r\n                    else if('insertRule' in sheet){\r\n                        sheet.insertRule(selector + '{' + rules + '}', id)\r\n                    }\r\n                }\r\n                catch(e){}\r\n            })\r\n        },\r\n        _events:function(){\r\n            var that = this, opts = that.options, self = that.constructor;\r\n            var pleft = self._getSize(that.target, 'l', 'padding') + self._getSize(that.target, 'l');\r\n            that._on('click', that.element, function(){\r\n                that.target.focus()\r\n            })\r\n\r\n            that._on('focus', that.target, function(){\r\n                opts.animate && that.element.stop(true, false).animate({left:pleft+10, opacity:'0.5'});\r\n            })\r\n\r\n            that._on('blur change', that.target, function(e, elem){\r\n                that.value();\r\n            })\r\n\r\n            that._on('keyup keydown', that.target, function(e, elem){\r\n                Nui.trim(elem.val()) ? that.element.hide() : that.element.show()\r\n            })\r\n        },\r\n        _reset:function(){\r\n            var that = this;\r\n            that._off();\r\n            if(that.element){\r\n                that.element.remove();\r\n                that.target.unwrap();\r\n            }\r\n            that.target.val(that.val).removeClass(that.className);\r\n            if(that.deftext){\r\n                that.target.attr('placeholder', that.deftext)\r\n            }\r\n            else{\r\n                that.target.removeAttr('placeholder')\r\n            }\r\n        },\r\n        value:function(val){\r\n            var self = this.constructor, target = this.target;\r\n            var pleft = self._getSize(target, 'l', 'padding') + self._getSize(target, 'l');\r\n            var v = Nui.trim(!arguments.length ? target.val() : target.val(val).val());\r\n            if((!this.options.equal && v === this.text) || !v){\r\n                target.val('');\r\n                this.element && this.element.show();\r\n                if(this.options.animate){\r\n                    this.element.stop(true, false).animate({left:pleft, opacity:'1'})\r\n                }\r\n            }\r\n            else if(this.element){\r\n                this.element.hide()\r\n            }\r\n        }\r\n    })\r\n})\r\n\n/**\r\n * @author Aniu[2017-03-02 08:44]\r\n * @update Aniu[2017-03-02 08:44]\r\n * @version 1.0.1\r\n * @description 语法高亮组件\r\n */\r\n\r\nNui.define('highlight',function(){\r\n    return this.extend('component', {\r\n        static:{\r\n            _init:function(){\r\n                var that = this;\r\n                Nui.doc.on('click', function(){\r\n                    if(that._active){\r\n                        Nui.each(that.__instances, function(val){\r\n                            if(val._active){\r\n                                val.element.find('tr.s-crt').removeClass('s-crt');\r\n                                val._active = false;\r\n                            }\r\n                        })\r\n                    }\r\n                    that._active = false;\r\n                })\r\n            },\r\n            _getcode:function(type, text){\r\n                return '<code class=\"'+ type +'\">'+ text +'</code>'\r\n            },\r\n            _getarr:function(match, code){\r\n                var array = [];\r\n                if(!match){\r\n                    array.push(code)\r\n                }\r\n                else{\r\n                    Nui.each(match, function(v){\r\n                        var index = code.indexOf(v);\r\n                        var sub = code.substr(0, index);\r\n                        code = code.substr(index+v.length);\r\n                        array.push(sub);\r\n                        array.push(v);\r\n                    })\r\n                    array.push(code);\r\n                }\r\n                return array\r\n            },\r\n            _comment:function(code){\r\n                //多行注释\r\n                if(/\\/\\*/.test(code)){\r\n                    code = code.replace(/(\\/\\*(.|\\s)*?\\*\\/)/g, this._getcode('comment', '$1'))\r\n                }\r\n                //单行注释\r\n                else if(/\\/\\//.test(code)){\r\n                    code = code.replace(/(\\/\\/.*)$/g, this._getcode('comment', '$1'))\r\n                }\r\n                return code\r\n            }\r\n        },\r\n        options:{\r\n            //工具栏\r\n            tools:{\r\n                //复制\r\n                copy:true\r\n            },\r\n            //点击代码那一行高亮\r\n            isLight:true,\r\n            //是否显示行号\r\n            isLine:false,\r\n            //是否显示语法标题\r\n            isTitle:true\r\n        },\r\n        _init:function(){\r\n            this._exec();\r\n        },\r\n        _exec:function(){\r\n            var that = this, target = that._getTarget();\r\n            if(target){\r\n                var dom = target.get(0);\r\n                if(dom.tagName === 'SCRIPT' && dom.type == 'text/highlight'){\r\n                    that.code = target.html()\r\n                                .replace(/^[\\r\\n]+|[\\r\\n]+$/g, '')\r\n                                .replace(/</g, '&lt;')\r\n                                .replace(/>/g, '&gt;');\r\n                    if(that.element){\r\n                        that.element.remove();\r\n                    }\r\n                    that._create();\r\n                    if(that.options.isLight){\r\n                        that._event();\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        _title:'',\r\n        _template:\r\n            '<div class=\"<% className %>\">'\r\n                +'<%if tools%>'\r\n                +'<div class=\"tools\">'\r\n                    +'<%if tools.copy%>'\r\n                    +'<em class=\"copy\">复制</em>'\r\n                    +'<%/if%>'\r\n                +'</div>'\r\n                +'<%/if%>'\r\n                +'<div class=\"body\">'\r\n                    +'<table>'\r\n                        +'<%each list val key%>'\r\n                            +'<tr>'\r\n                                +'<%if isLine === true%><td class=\"line\" number=\"<%key+1%>\"><%if bsie7%><%key+1%><%/if%></td><%/if%>'\r\n                                +'<td class=\"code\"><%val%></td>'\r\n                            +'</tr>'\r\n                        +'<%/each%>'\r\n                    +'</table>'\r\n                +'</div>'\r\n                +'<%if isTitle%>'\r\n                +'<em class=\"title\"><%title%></em>'\r\n                +'<%/if%>'\r\n            +'</div>',\r\n        _create:function(){\r\n            var that = this;\r\n            var opts = that.options;\r\n            var data = $.extend({\r\n                bsie7:Nui.bsie7,\r\n                list:that._list(),\r\n                title:that._title,\r\n                isLine:opts.isLine,\r\n                tools:opts.tools,\r\n                isTitle:opts.isTitle\r\n            }, that._tplData())\r\n            that.element = $(that._tpl2html(data)).insertAfter(that.target);\r\n        },\r\n        _getCode:function(){\r\n            return this.code\r\n        },\r\n        _list:function(){\r\n            return this._getCode().split('\\n')\r\n        },\r\n        _events:function(){\r\n            var that = this;\r\n            return ({\r\n                elem:that.element,\r\n                maps:{\r\n                    'click tr':'active',\r\n                    'click .copy':'copy'\r\n                },\r\n                calls:{\r\n                    active:function(e, elem){\r\n                        that.constructor._active = that._active = true;\r\n                        elem.addClass('s-crt').siblings().removeClass('s-crt');\r\n                        e.stopPropagation()\r\n                    },\r\n                    copy:function(){\r\n                        alert('傻帽！逗你玩呢。')\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    })\r\n})\r\n\n/**\r\n * @author Aniu[2017-03-02 08:44]\r\n * @update Aniu[2017-03-02 08:44]\r\n * @version 1.0.1\r\n * @description javascript语法高亮组件\r\n */\r\n\r\nNui.define('{light}/javascript',function(){\r\n    return this.extend('highlight', {\r\n        _title:'js',\r\n        _getCode:function(){\r\n            var that = this;\r\n            var code = that.code;\r\n            var self = that.constructor;\r\n            var str = '';\r\n            var kws = 'abstract|arguments|boolean|break|byte|case|catch|char|class|const|continue|debugger|default|delete|do|double|else|elseif|each|enum|eval|export|'+\r\n                      'extends|false|final|finally|float|for|function|goto|if|implements|import|in|instanceof|int|include|interface|let|long|native|new|null|'+\r\n                      'package|private|protected|public|return|short|static|super|switch|synchronized|this|throw|throws|transient|true|try|typeof|var';\r\n            var symbol = '&lt;|&gt;|;|!|%|\\\\\\|\\\\\\[|\\\\\\]|\\\\\\(|\\\\\\)|\\\\\\{|\\\\\\}|\\\\\\=|\\\\\\/|-|\\\\\\+|,|\\\\\\.|\\\\\\:|\\\\\\?|~|\\\\\\*|&';\r\n            var match = code.match(/(\\/\\/.*)|(\\/\\*(.|\\s)*?\\*\\/)|('[^']*')|(\"[^\"]*\")/g);\r\n            var array = self._getarr(match, code);\r\n            Nui.each(array, function(v){\r\n                if($.trim(v)){\r\n                    //单行注释\r\n                    if(/^\\s*\\/\\//.test(v)){\r\n                        v = self._getcode('comment', v);\r\n                    }\r\n                    //多行注释\r\n                    else if(/^\\s*\\/\\*/.test(v)){\r\n                        v = v.replace(/(.+)/g, self._getcode('comment', '$1'))\r\n                    }\r\n                    else{\r\n                        //字符串\r\n                        if(/'|\"/.test(v)){\r\n                            v = v.replace(/(.+)/g, self._getcode('string', '$1'))\r\n                        }\r\n                        //关键字、符号、单词\r\n                        else{\r\n                            v = v.replace(new RegExp('('+ symbol +')', 'g'), self._getcode('symbol', '$1'))\r\n                                .replace(new RegExp('('+ kws +')(\\\\s+|\\\\\\<code)', 'g'), self._getcode('keyword', '$1')+'$2')\r\n                                .replace(/(\\/code>\\s*)(\\d+)/g, '$1'+self._getcode('number', '$2'))\r\n                                .replace(/(\\/code>\\s*)?([^<>\\s]+)(\\s*<code)/g, '$1'+self._getcode('word', '$2')+'$3')\r\n\r\n                        }\r\n                        v = self._comment(v);\r\n                    }\r\n                }\r\n                str += v;\r\n            })\r\n            return str\r\n        }\r\n    })\r\n})\r\n\nNui.define('pages/components/router/script/tpls/recordVoucher',function(){\r\n    return this.renders(''+''\r\n        +'<input type=\"text\" placeholder=\"aaaaaaaaaaa\" value=\"11\" data-placeholder-options=\\'{\"color\":\"#f60\", \"animate\":true}\\' />'+''\r\n        +'<input type=\"text\" placeholder=\"111\" data-placeholder-options=\\'{\"color\":\"#f60\", \"animate\":true, \"id\":\"aaa\"}\\' />'+''\r\n        +'<input type=\"text\" placeholder=\"222\" data-placeholder-options=\\'{\"color\":\"#f60\", \"animate\":true}\\' />'+''\r\n        +'<input type=\"text\" placeholder=\"333\" data-placeholder-options=\\'{\"color\":\"#f60\", \"animate\":true, \"id\":\"aaa\"}\\' />'+''\r\n        +'<div class=\"empty\">还原</div>'+''\r\n        +'<script type=\"text/highlight\" data-javascript-options=\"{id:\\'b\\'}\">'+''\r\n        +'var a = 1;'+''\r\n        +'var b = 2;'+''\r\n        +'</script> '+''\r\n        +'<div class=\"box nui-router-back\">返回</div>'+''\r\n        +'<a id=\"aaa\">aaaaaaaaaaa</a>'+''\r\n    +'')\r\n})\nNui.define('pages/components/router/script/modules/recordVoucher',['component', 'pages/components/router/script/tpls/recordVoucher', 'template', '{light}/javascript', '{cpns}/placeholder'], function(component, tmpl, tpl, js, ph){\r\n    var module = this;\r\n    var events = module.require('events');\r\n    return function(target, wrapper, request){\r\n        return ({\r\n            init:function(){\r\n                wrapper.html(tpl.render(tmpl, request))\r\n                this.event()\r\n            },\r\n            event:function(){\r\n                events.call(this, {\r\n                    elem:wrapper,\r\n                    maps:{\r\n                        //'click b':'b',\r\n                        'click .empty':'empty'\r\n                        //'click a':'c a'\r\n                    },\r\n                    calls:{\r\n                        a:function(){\r\n                            js('destroy', wrapper, 'b')\r\n                            component.static.destroy(wrapper);\r\n                            setTimeout(function(){\r\n                                js('init', wrapper)\r\n                                js('set', wrapper, {\r\n                                    isLine:true\r\n                                }) \r\n                            }, 2000)\r\n                        },\r\n                        b:function(){\r\n                            alert()\r\n                        },\r\n                        c:function(){\r\n                            return confirm('哈哈')\r\n                        },\r\n                        empty:function(){\r\n                        ph('value', wrapper, '', 'aaa');\r\n                        //ph('destroy', wrapper)\r\n                        //ph('reset', wrapper)\r\n                            //$('input').placeholder('value', null)\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n        }).init()\r\n    }\r\n})\n/**\r\n * @author Aniu[2017-02-27 23:46]\r\n * @update Aniu[2017-02-27 23:46]\r\n * @version 1.0.1\r\n * @description 路由\r\n */\r\n\r\nNui.define('{cpns}/router',['component'], function(component){\r\n    var statics = {\r\n        _paths:{},\r\n        _alias:{},\r\n        _cache:{},\r\n        _cacheContent:{},\r\n        _init:function(){\r\n            var that = this;\r\n            Nui.doc.on('click', '.nui-router-back', function(){\r\n                return that.back()\r\n            }).on('click', '.nui-router-forward', function(){\r\n                return that.forward()\r\n            })\r\n        },\r\n        _setpaths:function(rule, paths){\r\n            if(!this._paths[rule]){\r\n                this._paths[rule] = paths\r\n            }\r\n        },\r\n        _replace:function(hash){\r\n                        //IE8-中 A标签href属性会被添加上域名，将其移除\r\n            return hash.replace(location.protocol+'//'+location.host, '')\r\n                        //移除空白\r\n                       .replace(/\\s+/g, '')\r\n                       //移除 #!前缀\r\n                       .replace(/^\\#\\!?/, '')\r\n                       //开头添加斜杠\r\n                       .replace(/^([^\\/])/, '/$1')\r\n                       //移除末尾斜杠\r\n                       .replace(/\\/$/, '');\r\n        },\r\n        _setCache:function(){\r\n            var that = this, hash = that._oldhash;\r\n            if(hash && that._wrapper && that._cacheContent[hash]){\r\n                that._cache[hash] = that._wrapper.html()\r\n            }\r\n        },\r\n        _getWrapper:function(container){\r\n            return $('<div class=\"wrapper\"></div>').appendTo(container)\r\n        },\r\n        _change:function(){\r\n            var that = this, _hash = location.hash, hash = that._replace(_hash);\r\n            if(!$.isEmptyObject(that._paths)){\r\n                that._setCache();\r\n                Nui.each(that._paths, function(v){\r\n                    if(hash === v.path || hash.indexOf(v.path) === 0){\r\n                        var params = hash.replace(v.path, '').replace(/^\\//, '');\r\n                        var object = that.__instances[v.id], opts = object.options, param;\r\n                        params = params ? params.split('/') : [];\r\n                        if(typeof opts.onRender === 'function' && params.length === v.params.length){\r\n                            Nui.each(v.params, function(val, key){\r\n                                if(!param){\r\n                                    param = {};\r\n                                }\r\n                                param[val] = params[key]\r\n                            })\r\n\r\n                            if(!object._wrapper){\r\n                                if(opts.wrapper && !object._wrapper){\r\n                                    object._wrapper = that._getWrapper(object.container)\r\n                                }\r\n                                else if(!that._wrapper){\r\n                                    that._wrapper = that._getWrapper(object.container)\r\n                                }\r\n                                if(!object._wrapper){\r\n                                    component('destroy', that._wrapper.off());\r\n                                    that._cacheContent[_hash] = true;\r\n                                }\r\n                                var wrapper = object._wrapper || that._wrapper;\r\n                                var cache = that._cache[_hash];\r\n                                opts.onRender(object.target, wrapper, {\r\n                                    path:v.path,\r\n                                    url:hash,\r\n                                    param:param,\r\n                                    cache:cache\r\n                                })\r\n                                component('init', wrapper);\r\n                            }\r\n                            var wrapper = object._wrapper || that._wrapper;\r\n                            wrapper.show().siblings('.wrapper').hide();\r\n                            if(typeof opts.onAfter === 'function'){\r\n                                opts.onAfter(object.target, wrapper)\r\n                            }\r\n                            that._initialize = match = true;\r\n                            if(Nui.bsie7){\r\n                                that._setHistory(_hash);\r\n                            }\r\n                            return false\r\n                        }\r\n                    }\r\n                })\r\n\r\n                if(!that._initialize){\r\n                    Nui.each(that.__instances, function(v){\r\n                        if(!that._isEntry && v.options.entry === true){\r\n                            that._isEntry= true;\r\n                            if(v.target){\r\n                                v._render(v.target.eq(0));\r\n                            }\r\n                            that._initialize = true;\r\n                            return false\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n            that._oldhash = _hash;\r\n        },\r\n        _bindHashchange:function(){\r\n            var that = this;\r\n            if(Nui.bsie7){\r\n                var hashchange = function(ret){\r\n                    var hash = location.hash;\r\n                    if(that._oldhash !== hash){\r\n                        return !ret\r\n                    }\r\n                    return false\r\n                }\r\n                setInterval(function(){\r\n                    if(hashchange()){\r\n                        that._change()\r\n                    }\r\n                }, 100);\r\n                hashchange(true)\r\n            }\r\n            else{\r\n                Nui.win.on('hashchange', function(){\r\n                    that._change()\r\n                })\r\n            }\r\n        },\r\n        _$ready:null,\r\n        _$fn:null,\r\n        start:function(){\r\n            if(!this._initialize){\r\n                this._change();\r\n            }\r\n        },\r\n        href:function(url){\r\n            var that = this;\r\n            if(url){\r\n                var temp, _router;\r\n                url = this._replace(url);\r\n                Nui.each(this._paths, function(val, rule){\r\n                    if(rule === url || (url.indexOf(val.path) === 0 &&\r\n                                        (temp = url.replace(val.path+'/', '')) && \r\n                                        temp.split('/').length === val.params.length)){\r\n                        _router = that.__instances[val.id];\r\n                        return false\r\n                    }\r\n                })\r\n                if(_router){\r\n                    _router._render(_router.target, url)\r\n                }\r\n            }\r\n            else{\r\n                that.start()\r\n            }\r\n        },\r\n        alias:function(val){\r\n            return $.extend(this._alias, val||{})\r\n        },\r\n        forward:function(){\r\n            history.forward();\r\n            return false\r\n        },\r\n        back:function(){\r\n            history.back();\r\n            return false\r\n        }\r\n    }\r\n\r\n    if(Nui.bsie7){\r\n        statics._history = [];\r\n        statics._setHistory = function(hash){\r\n            if(!this._isHistory){\r\n                Nui.each(this._history, function(val){\r\n                    val.active = false\r\n                });\r\n                this._history.push({\r\n                    hash:hash,\r\n                    active:true\r\n                })\r\n            }\r\n            this._isHistory = false;\r\n        },\r\n        Nui.each(['forward', 'back'], function(v){\r\n            var value = v==='forward' ? 1 : -1;\r\n            statics[v] = function(){\r\n                var that = this, len = that._history.length;\r\n                statics._isHistory = true;\r\n                Nui.each(that._history, function(val, i){\r\n                    var index = i + value;\r\n                    if(val.active){\r\n                        //历史记录在起始或者末尾时，调用原生的记录\r\n                        if(index === -1 || index === len){\r\n                            window.history[v]();\r\n                            return false\r\n                        }\r\n                        var _history = that._history[index];\r\n                        if(_history){\r\n                            location.hash = _history.hash;\r\n                            _history.active = true;\r\n                        }\r\n                        val.active = false;\r\n                        return false\r\n                    }\r\n                })\r\n                return false\r\n            }\r\n        })\r\n    }\r\n\r\n    return this.extend(component, {\r\n        static:statics,\r\n        options:{\r\n            path:'',\r\n            delegate:null,\r\n            container:null,\r\n            entry:false,\r\n            wrapper:false,\r\n            level:1,\r\n            onBefore:null,\r\n            onRender:null,\r\n            onAfter:null\r\n        },\r\n        _init:function(){\r\n            var that = this, router = that.constructor;\r\n            if(that._exec() && !router._bind){\r\n                router._bind = true;\r\n                router._bindHashchange();\r\n            }\r\n        },\r\n        _exec:function(){\r\n            var that = this, opts = that.options, router = that.constructor, target = that._getTarget();\r\n            that.container = router._jquery(opts.container);\r\n            if(opts.path && that.container){\r\n                that.path = that._setpath(opts.path);\r\n                var paths = that._getpath();\r\n                var len = paths.params.length;\r\n                if((!len && opts.level === 1) || opts.level !== 1){\r\n                    router._setpaths(paths.rule, paths)\r\n                }\r\n                if(len && opts.level > 0){\r\n                    var params = [], split = '/:', param, sub;\r\n                    while(param = paths.params.shift()){\r\n                        params.push(param);\r\n                        sub = params.join(split);\r\n                        router._setpaths(paths.rule+split+sub, $.extend({}, paths, {\r\n                            params:sub.split(split)\r\n                        }))\r\n                    }\r\n                }\r\n                if(target){\r\n                    return that._event()\r\n                }\r\n            }\r\n        },\r\n        _setpath:function(path){\r\n            var router = this.constructor;\r\n            if(path = Nui.trim(path)){\r\n                Nui.each(router._alias, function(val, key){\r\n                    path = path.replace(new RegExp('{'+ key +'}', 'g'), val)\r\n                })\r\n            }\r\n            return router._replace(path)\r\n        },\r\n        _getpath:function(){\r\n            var that = this, path = that.path, opts = that.options, index = path.indexOf('/:');\r\n            var paths = {\r\n                id:that.__id,\r\n                params:[],\r\n                rule:path,\r\n                path:path\r\n            }\r\n            if(index !== -1){\r\n                paths.params = path.substr(index+2).split('/:');\r\n                paths.path = path.substr(0, index);\r\n                if(opts.level > 0){\r\n                    paths.rule = paths.path;\r\n                }\r\n            }\r\n            return paths\r\n        },\r\n        _render:function(elem, url){\r\n            var that = this, opts = that.options, href = url || elem.attr('href');\r\n            if(href){\r\n                var trigger = false;\r\n                var render = function(){\r\n                    trigger = true;\r\n                    location.hash = '#!'+that.constructor._replace(href)\r\n                }\r\n                if(typeof opts.onBefore === 'function' && opts.onBefore(elem, render) === false){\r\n                    return false\r\n                }\r\n                if(!trigger){\r\n                    render()\r\n                }\r\n            }\r\n        },\r\n        _event:function(){\r\n            var that = this, opts = that.options;\r\n            that._on('click', opts.delegate, that.target, function(e, elem){\r\n                that._render(elem);\r\n                return false\r\n            })\r\n            return that\r\n        },\r\n        _reset:function(){\r\n            var that = this, router = that.constructor;\r\n            that._off();\r\n            Nui.each(router._paths, function(val, i){\r\n                if(val.id === that.__id){\r\n                    delete router._paths[i];\r\n                }\r\n            })\r\n            return that\r\n        }\r\n    })\r\n})\r\n\nNui.define('pages/components/router/script/menu',[{\r\n    id:'recordVoucher',\r\n    name:'录凭证',\r\n    index:true,\r\n    icon:'',\r\n    path:'/voucher/record/'\r\n}, {\r\n    id:'seeVoucher',\r\n    name:'查凭证',\r\n    icon:'',\r\n    index:true,\r\n    path:'/voucher/list/aniu/jser/'\r\n}, {\r\n    name:'账簿',\r\n    icon:'',\r\n    subs:[{\r\n        id:'summary',\r\n        name:'总账',\r\n        icon:'',\r\n        path:'/books/summary/'\r\n    }, {\r\n        id:'detailed',\r\n        name:'明细账',\r\n        icon:'',\r\n        path:'/books/detailed/'\r\n    }, {\r\n        id:'accountbalance',\r\n        name:'科目余额表',\r\n        icon:'',\r\n        path:'/books/accountbalance/'\r\n    }]\r\n}])\nNui.define('pages/components/router/script/tpls/index',function(){\r\n    return this.renders(''+''\r\n        +'<div class=\"m-main ui-bgw\">'+''\r\n            +'<h3 class=\"ui-bdb ui-fcb\">'+''\r\n                +'<em class=\"ui-animate ui-animate-fadeInDown ui-animate-fadeInDown-run1\">欢</em>'+''\r\n                +'<em class=\"ui-animate ui-animate-fadeInDown ui-animate-fadeInDown-run2\">迎</em>'+''\r\n                +'<em class=\"ui-animate ui-animate-fadeInDown ui-animate-fadeInDown-run3\">使</em>'+''\r\n                +'<em class=\"ui-animate ui-animate-fadeInDown ui-animate-fadeInDown-run4\">用</em>'+''\r\n                +'<em class=\"ui-animate ui-animate-fadeInDown ui-animate-fadeInDown-run5\">云</em>'+''\r\n                +'<em class=\"ui-animate ui-animate-fadeInDown ui-animate-fadeInDown-run6\">记</em>'+''\r\n                +'<em class=\"ui-animate ui-animate-fadeInDown ui-animate-fadeInDown-run7\">账</em>'+''\r\n                +'<em class=\"ui-animate ui-animate-fadeInDown ui-animate-fadeInDown-run8\">！</em>'+''\r\n            +'</h3>'+''\r\n            +'<ul>'+''\r\n                +'<% each $list %>'+''\r\n                +'<% if $value.index %>'+''\r\n                +'<li>'+''\r\n                    +'<a href=\"javascript:void(0)\" rel=\"<% $value.path %>\" id=\"<% $value.id %>Index\">'+''\r\n                        +'<em><i class=\"iconfont ui-animate\">&#xe62a;</i></em>'+''\r\n                        +'<span class=\"ui-animate\"><% $value.name %></span>'+''\r\n                    +'</a>'+''\r\n                +'</li>'+''\r\n                +'<% /if %>'+''\r\n                +'<% /each %>'+''\r\n            +'</ul>'+''\r\n        +'</div>'+''\r\n    +'')\r\n})\nNui.define('pages/components/router/script/modules/index',['pages/components/router/script/tpls/index', 'template', 'pages/components/router/script/menu'], function(tmpl, tpl, menu){\r\n    var module = this;\r\n    var router = module.require('{cpns}/router');\r\n    var events = module.require('events', function(d){\r\n        \r\n    });\r\n    module.imports('../../style/index')\r\n    return function(target, wrapper, request){\r\n        wrapper.html(tpl.render(tmpl, menu));\r\n        events({\r\n            elem:wrapper,\r\n            maps:{\r\n                'click a':'seturl'\r\n            },\r\n            calls:{\r\n                seturl:function(e, elem){\r\n                    router('href', elem.attr('rel'))\r\n                }\r\n            }\r\n        })\r\n    }\r\n})\nNui.define('pages/components/router/script/router',['{cpns}/router'], function(router){\r\n    var module = this;\r\n\r\n    return function(){\r\n        router('alias', {\r\n            'list':'/voucher/list/:nickname/:career'\r\n        })\r\n\r\n        router('options', {\r\n            container:'.g-main',\r\n            delegate:Nui.doc,\r\n            level:2,\r\n            //wrapper:true,\r\n            onAfter:function(elem){\r\n                $('.m-menu-item a.s-crt').removeClass('s-crt');\r\n                elem.addClass('s-crt');\r\n            }\r\n        })\r\n\r\n        router({\r\n            target:'#index',\r\n            entry:true,\r\n            path:'/index',\r\n            onRender:module.require('pages/components/router/script/modules/index')\r\n        })\r\n\r\n        router({\r\n            target:'#recordVoucher',\r\n            path:'/voucher/record',\r\n            wrapper:false,\r\n            onBefore:function(target, render){\r\n                if(confirm('点击取消不会切换页面')){\r\n                    render()\r\n                }\r\n                return false;\r\n            },\r\n            onRender:module.require('pages/components/router/script/modules/recordVoucher')\r\n        })\r\n\r\n        router({\r\n            target:'#seeVoucher',\r\n            path:'{list}',\r\n            wrapper:false,\r\n            level:2,\r\n            onRender:module.require('pages/components/router/script/modules/seeVoucher')\r\n        })\r\n\r\n        router('start')\r\n    }\r\n})\nNui.define('pages/components/router/script/tpls/layout',function(){\r\n    var module = this;\r\n    return ({\r\n        head:module.renders(''+''\r\n            +'<div class=\"f-fl m-head-main\">'+''\r\n                +'<% var data = list[0] %>'+''\r\n                +'<p class=\"f-fl name\"><% data.buname %></p>'+''\r\n                +'<p class=\"f-fl month\"><% data.buaddress %></p>'+''\r\n            +'</div>'+''\r\n        +''),\r\n        menu:module.renders(''+''\r\n            +'<% each menu %>'+''\r\n            +'<dl class=\"m-menu-item\">'+''\r\n                +'<dt>'+''\r\n                    +'<a href=\"<% $value.path || \\'javascript:void(0)\\' %>\"<% if $value.id %> id=\"<% $value.id %>\"<% /if %>>'+''\r\n                        +'<em><i class=\"iconfont\"></i></em>'+''\r\n                        +'<span><% $value.name %></span>   '+''\r\n                    +'</a>'+''\r\n                +'</dt>'+''\r\n                +'<% if $value.subs && $value.subs.length %>'+''\r\n                +'<dd>'+''\r\n                    +'<% each $value.subs %>'+''\r\n                    +'<a href=\"<% $value.path %>\"<% if $value.id %> id=\"<% $value.id %>\"<% /if %>>'+''\r\n                        +'<span><% $value.name %></span>'+''\r\n                    +'</a>'+''\r\n                    +'<% /each %>'+''\r\n                +'</dd>'+''\r\n                +'<% /if %>'+''\r\n            +'</dl>'+''\r\n            +'<% /each %>'+''\r\n        +'')\r\n    })\r\n})\nNui.define('pages/components/router/script/render',['pages/components/router/script/menu', 'pages/components/router/script/tpls/layout', 'template'], function(menu, layout, tpl){\r\n    var module = this;\r\n    return function(data){\r\n        $('.m-headbox').html(tpl.render(layout.head, data))\r\n        data.menu = menu;\r\n        $('.m-menu').html(tpl.render(layout.menu, data))\r\n    }\r\n})\nNui.define('./script/page',function(require,imports,renders,extend){\n\tvar module=this;\n\tvar render = require('pages/components/router/script/render');\r\n\tvar router = require('pages/components/router/script/router');\r\n\tvar ajax = require('pages/components/router/script/ajax');\r\n\tvar base = imports('../style/base');\r\n\tvar page = imports('../style/page');\r\n\tajax({\r\n\t    url:'./script/data.json',\r\n\t    success:function(res){\r\n\t        render(res);\r\n\t        router()\r\n\t    }\r\n\t});\r\n\tmodule.exports = function(){\r\n\t    \r\n\t}\n});\n"]}