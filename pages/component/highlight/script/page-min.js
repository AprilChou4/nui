Nui.define("placeholder",["util"],function(e){var t=e.supportHtml5("placeholder","input");return this.extands("component",{options:{text:"",animate:!1,equal:!1,color:"#ccc"},_tpl:{wrap:'<strong                     class="nui-placeholder{{if theme}} t-placeholder-{{theme}}{{/if}}" style="                    {{each style val key}}                        {{key}}:{{val}};                    {{/each}}                    " />',elem:'<b style="                    {{each style val key}}                        {{key}}:{{val}};                    {{/each}}                    ">{{text}}</b>'},_init:function(){var e=this;e.target=e._getTarget(),e.target&&e._exec()},_exec:function(){var e=this,t=e.deftext=e.target.attr("placeholder");!e.deftext&&e.options.text&&e.target.attr("placeholder",t=e.options.text),e.text=$.trim(t),e.text&&e._create()},_create:function(){var e=this,r=e.options,a=e.constructor;r.animate&&e.target.removeAttr("placeholder"),r.animate||!r.animate&&!t?(e.target.wrap(e._tpl2html(e._tpl.wrap,{theme:r.theme,style:{position:"relative",display:"inline-block",width:e.target.outerWidth()+"px",overflow:"hidden",cursor:"text"}})),e.elem=$(e._tpl2html(e._tpl.elem,{text:e.text,style:function(){var t=e.target.outerHeight(),i=e.target.is("textarea");return{position:"absolute",left:a.getSize(e.target,"l","padding")+a.getSize(e.target,"l")+"px",top:a.getSize(e.target,"t","padding")+a.getSize(e.target,"t")+"px",height:i?"auto":t+"px","line-height":i?"normal":t+"px",color:r.color}}()})).insertAfter(e.target),e._event()):e._setStyle()},_setStyle:function(){var e=this;e.options;e.className="nui-placeholder-"+e.index,e.target.addClass(e.className),e.constructor.style||e._createStyle(),e._createRules()},_createStyle:function(){var e=this,t=document.createElement("style");document.head.appendChild(t),e.constructor.style=t.sheet},_createRules:function(){var e=this,t=e.constructor.style,r=e.index;try{t.deleteRule(r)}catch(e){}$.each(["::-webkit-input-placeholder",":-ms-input-placeholder","::-moz-placeholder"],function(a,i){var c="."+e.className+i,s="opacity:1; color:"+(e.options.color||"");try{"addRule"in t?t.addRule(c,s,r):"insertRule"in t&&t.insertRule(c+"{"+s+"}",r)}catch(e){}})},_event:function(){var e=this,t=e.options,r=e.constructor,a=r.getSize(e.target,"l","padding")+r.getSize(e.target,"l");e._on("click",e.elem,function(){e.target.focus()}),e._on("focus",e.target,function(){t.animate&&e.elem.stop(!0,!1).animate({left:a+10,opacity:"0.5"})}),e._on("blur change",e.target,function(){var r=$.trim(e.target.val());!t.equal&&r==e.text||!r?(e.target.val(""),e.elem.show(),t.animate&&e.elem.stop(!0,!1).animate({left:a,opacity:"1"})):e.elem.hide()}),e._on("keyup keydown",e.target,function(){$.trim(e.target.val())?e.elem.hide():e.elem.show()}),e.target.blur()},_reset:function(){var e=this;e._off(),e.elem&&(e.elem.remove(),e.target.unwrap()),e.target.removeClass(e.className),e.deftext?e.target.attr("placeholder",e.deftext):e.target.removeAttr("placeholder")}})}),Nui.define("highlight",function(){var e=Nui.browser.msie&&Nui.browser.version<=7;return this.extands("component",{static:{_getcode:function(e,t){return'<code class="'+e+'">'+t+"</code>"},_getarr:function(e,t){var r=[];return e?($.each(e,function(e,a){var i=t.indexOf(a),c=t.substr(0,i);t=t.substr(i+a.length),r.push(c),r.push(a)}),r.push(t)):r.push(t),r},_comment:function(e){return/\/\*/.test(e)?e=e.replace(/(\/\*(.|\s)*?\*\/)/g,this._getcode("comment","$1")):/\/\//.test(e)&&(e=e.replace(/(\/\/.*)$/g,this._getcode("comment","$1"))),e}},options:{isTitle:!1,isLight:!0,isLine:!0},_type:"",_init:function(){var e=this;e.target=e._getTarget();var t=e.target.get(0);"SCRIPT"===t.tagName&&"text/highlight"==t.type&&e._exec()},_exec:function(){var e=this;e.code=e.target.html().replace(/^[\r\n]+|[\r\n]+$/g,"").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e.elem&&e.elem.remove(),e._create(),e.options.isLight&&e._event()},_tpl:function(){return'<div class="ui-highlight{{if type}} ui-highlight-{{type}}{{/if}}{{if theme}} t-highlight-{{theme}}{{/if}}">                        {{if isTitle}}                        <div class="title">                            <em class="type">{{type}}</em>                        </div>                        {{/if}}                        <div class="inner">                            <table>                                {{each list val key}}                                    <tr>                                        {{if isLine === true}}<td class="line" number="{{key+1}}">{{if bsie7}}{{key+1}}{{/if}}</td>{{/if}}                                        <td class="code">{{val}}</td>                                    </tr>                                {{/each}}                            </table>                        <div>                    </div>'},_create:function(){var t=this,r=(t.options,$.extend({bsie7:e,list:t._list(),type:t._type},t.options||{})),a=t._tpl2html(t._tpl(),r);t.elem=$(a).insertAfter(t.target)},_list:function(){var e=this;return e._type?e["_"+e._type](e.code).split("\n"):e.code.split("\n")},_event:function(){var e=this;e._on("click",e.elem.find("tr"),function(e){$(this).addClass("s-crt").siblings().removeClass("s-crt")}),e._on("click",e.elem,function(e){e.stopPropagation()}),e._on("click",Nui.doc,function(t){e.elem.find("tr.s-crt").removeClass("s-crt")})}})}),Nui.define("./style",function(){return this.extands("highlight",{_type:"css",_css:function(e){var t=this,r=t.constructor,a="",i=e.match(/(\/\*(.|\s)*?\*\/)|(\{[^\{\}\/]*\})/g),c=r._getarr(i,e);return $.each(c,function(e,t){$.trim(t)&&(t=/^\s*\/\*/.test(t)?t.replace(/(.+)/g,r._getcode("comment","$1")):/\}\s*$/.test(t)?t.replace(/(\s*)([^:;\{\}\/\*]+)(:)([^:;\{\}\/\*]+)/g,"$1"+r._getcode("attr","$2")+"$3"+r._getcode("string","$4")).replace(/([\:\;\{\}])/g,r._getcode("symbol","$1")):t.replace(/([^\:\{\}\@\#\s\.]+)/g,r._getcode("selector","$1")).replace(/([\:\{\}\@\#\.])/g,r._getcode("symbol","$1"))),a+=t}),a}})}),Nui.define("./javascript",function(){return this.extands("highlight",{_type:"js",_js:function(e){var t=this,r=t.constructor,a="",i=e.match(/(\/\/.*)|(\/\*(.|\s)*?\*\/)|('[^']*')|("[^"]*")/g),c=r._getarr(i,e);return $.each(c,function(e,t){$.trim(t)&&(/^\s*\/\//.test(t)?t=r._getcode("comment",t):/^\s*\/\*/.test(t)?t=t.replace(/(.+)/g,r._getcode("comment","$1")):(t=/'|"/.test(t)?t.replace(/(.+)/g,r._getcode("string","$1")):t.replace(new RegExp("(&lt;|&gt;|;|!|%|\\|\\[|\\]|\\(|\\)|\\{|\\}|\\=|\\/|-|\\+|,|\\.|\\:|\\?|~|\\*|&)","g"),r._getcode("symbol","$1")).replace(new RegExp("(abstract|arguments|boolean|break|byte|case|catch|char|class|const|continue|debugger|default|delete|do|double|else|enum|eval|export|extends|false|final|finally|float|for|function|goto|if|implements|import|in|instanceof|int|interface|let|long|native|new|null|package|private|protected|public|return|short|static|super|switch|synchronized|this|throw|throws|transient|true|try|typeof|var)(\\s+|\\<code)","g"),r._getcode("keyword","$1")+"$2").replace(/(\/code>\s*)(\d+)/g,"$1"+r._getcode("number","$2")).replace(/(\/code>\s*)?([^<>\s]+)(\s*<code)/g,"$1"+r._getcode("word","$2")+"$3"),t=r._comment(t))),a+=t}),a}})}),Nui.define("{light}/xml",["./javascript","./style"],function(e,t){return this.extands("highlight",{_type:"xml",_xml:function(r){var a=this,i=a.constructor,c="";return r=r.replace(/&lt;\s*![^!]+-\s*&gt;/g,function(e){return e.replace(/&lt;/g,"<<").replace(/&gt;/g,">>")}),$.each(r.split("&lt;"),function(r,s){s=s.split("&gt;");var l=s.length;$.each(s,function(r,o){if($.trim(o)){if(0==r){var n=!1;if(/^\s*\//.test(o))o=o.replace(/([^\r\n\/]+)/g,i._getcode("tag","$1")).replace(/^(\s*\/+)/,i._getcode("symbol","$1"));else{var g=o.match(/^\s+/)||"";/\=\s*['"]$/.test(o)&&(n=!0),o=o.replace(/^\s+/,"").replace(/(\s+)([^'"\/\s\=]+)((\s*=\s*)(['"]?[^'"]*['"]?))?/g,"$1"+i._getcode("attr","$2")+i._getcode("symbol","$4")+i._getcode("string","$5")).replace(/<code class="\w+">(\s*((<<\s*![-\s]+)|([-\s]+>>))?)<\/code>/g,"$1").replace(/^([^\s]+)/,i._getcode("tag","$1")).replace(/(\/+\s*)$/,i._getcode("symbol","$1")),o=g+o}o=i._getcode("symbol","&lt;")+o,n||(o+=i._getcode("symbol","&gt;"))}else if(3===l&&1===r&&/\s*['"]\s*/.test(o))o=o.replace(/(\s*['"]\s*)/,i._getcode("symbol","$1"))+i._getcode("symbol","&gt;");else{var p=$.trim(s[0]).toLowerCase();o="style"==p?t.exports._css.call(a,o):"script"==p?e.exports._js.call(a,o):o.replace(/(.+)/g,i._getcode("text","$1"))}o=o.replace(/<<\s*![^!]+-\s*>>/g,function(e){return e.replace(/([^\r\n]+)/g,i._getcode("comment","$1")).replace(/<</g,"&lt;").replace(/>>/g,"&gt;")})}c+=o})}),c}})}),Nui.define("./script/page",["{light}/xml","placeholder"],function(e,t){t({target:":text",color:"#f00111"})});