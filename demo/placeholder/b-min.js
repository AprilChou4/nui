Nui.define("placeholder",["util"],function(e){return this.extands("component",{static:{support:function(){return e.supportHtml5("placeholder","input")}},options:{text:"",animate:!1,equal:!1,color:"#ccc"},tpl:{wrap:'<strong                     class="nui-placeholder{{if theme}} t-placeholder-{{theme}}{{/if}}" style="                    {{each style val key}}                        {{key}}:{{val}};                    {{/each}}                    " />',elem:'<b style="                    {{each style val key}}                        {{key}}:{{val}};                    {{/each}}                    ">{{text}}</b>'},_init:function(){var e=this;e.target=e._getTarget(),e.target&&e._exec()},_exec:function(){var e=this,t=e.deftext=e.target.attr("placeholder");!e.deftext&&e.options.text&&e.target.attr("placeholder",t=e.options.text),e.text=$.trim(t),e.text&&e._create()},_create:function(){var e=this,t=e.options;t.animate&&e.target.removeAttr("placeholder"),t.animate||!t.animate&&!e._self.support()?(e.target.wrap(e._tpl2html(e.tpl.wrap,{theme:t.theme,style:{position:"relative",display:"inline-block",width:e.target.outerWidth()+"px",overflow:"hidden",cursor:"text"}})),e.elem=$(e._tpl2html(e.tpl.elem,{text:e.text,style:function(){var a=e.target.outerHeight(),l=e.target.is("textarea");return{position:"absolute",left:e._self.getSize(e.target,"l","padding")+e._self.getSize(e.target,"l")+"px",top:e._self.getSize(e.target,"t","padding")+e._self.getSize(e.target,"t")+"px",height:l?"auto":a+"px","line-height":l?"normal":a+"px",color:t.color}}()})).insertAfter(e.target),e._event()):e._setStyle()},_setStyle:function(){var e=this;e.options;e.className="nui-placeholder-"+e.index,e.target.addClass(e.className),e._self.style||e._createStyle(),e._createRules()},_createStyle:function(){var e=this,t=document.createElement("style");document.head.appendChild(t),e._self.style=t.sheet},_createRules:function(){var e=this,t=e._self.style,a=e.index;try{t.deleteRule(a)}catch(e){}$.each(["::-webkit-input-placeholder",":-ms-input-placeholder","::-moz-placeholder"],function(l,r){var i="."+e.className+r,o="opacity:1; color:"+(e.options.color||"");try{"addRule"in t?t.addRule(i,o,a):"insertRule"in t&&t.insertRule(i+"{"+o+"}",a)}catch(e){}})},_event:function(){var e=this,t=e.options,a=e._self.getSize(e.target,"l","padding")+e._self.getSize(e.target,"l");e._on("click",e.elem,function(){e.target.focus()}),e._on("focus",e.target,function(){t.animate&&e.elem.stop(!0,!1).animate({left:a+10,opacity:"0.5"})}),e._on("blur change",e.target,function(){var l=$.trim(e.target.val());!t.equal&&l==e.text||!l?(e.target.val(""),e.elem.show(),t.animate&&e.elem.stop(!0,!1).animate({left:a,opacity:"1"})):e.elem.hide()}),e._on("keyup keydown",e.target,function(){$.trim(e.target.val())?e.elem.hide():e.elem.show()}),e.target.blur()},_reset:function(){var e=this;e._off(),e.elem&&(e.elem.remove(),e.target.unwrap()),e.target.removeClass(e.className),e.deftext?e.target.attr("placeholder",e.deftext):e.target.removeAttr("placeholder")}})}),Nui.define("./b",["placeholder"],function(e){return{init:function(){e.config({text:"111111",color:"blue"})}}});